"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=require("./index-888bc306.js"),n=require("react"),o=e(n),r=require("react-dom"),i=(e(r),require("./index-24ab93aa.js")),a=require("styled-components"),s=e(a);
/** @license mobx-react v5.4.4
 * index.module.js
 *
 * Copyright (c) 2015 Michel Weststrate.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e,t){return e(t={exports:{}},t.exports),t.exports}var v,x=g((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.memo"):60115,h=n?Symbol.for("react.lazy"):60116;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case u:case p:case i:case s:case a:return e;default:switch(e=e&&e.$$typeof){case c:case d:case l:return e;default:return t}}case r:return t}}}function g(e){return b(e)===p}t.typeOf=b,t.AsyncMode=u,t.ConcurrentMode=p,t.ContextConsumer=c,t.ContextProvider=l,t.Element=o,t.ForwardRef=d,t.Fragment=i,t.Profiler=s,t.Portal=r,t.StrictMode=a,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===p||e===s||e===a||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d)},t.isAsyncMode=function(e){return g(e)||b(e)===u},t.isConcurrentMode=g,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return b(e)===d},t.isFragment=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isPortal=function(e){return b(e)===r},t.isStrictMode=function(e){return b(e)===a}}));(v=x)&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default")&&v.default;x.typeOf,x.AsyncMode,x.ConcurrentMode,x.ContextConsumer,x.ContextProvider,x.Element,x.ForwardRef,x.Fragment,x.Profiler,x.Portal,x.StrictMode,x.isValidElementType,x.isAsyncMode,x.isConcurrentMode,x.isContextConsumer,x.isContextProvider,x.isElement,x.isForwardRef,x.isFragment,x.isProfiler,x.isPortal,x.isStrictMode;var y=g((function(e){e.exports=x})),C={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},w={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},T={};T[y.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var _=Object.defineProperty,k=Object.getOwnPropertyNames,E=Object.getOwnPropertySymbols,O=Object.getOwnPropertyDescriptor,S=Object.getPrototypeOf,D=Object.prototype;var A=function e(t,n,o){if("string"!=typeof n){if(D){var r=S(n);r&&r!==D&&e(t,r,o)}var i=k(n);E&&(i=i.concat(E(n)));for(var a=T[t.$$typeof]||C,s=T[n.$$typeof]||C,l=0;l<i.length;++l){var c=i[l];if(!(w[c]||o&&o[c]||s&&s[c]||a&&a[c])){var u=O(n,c);try{_(t,c,u)}catch(e){}}}return t}return t},P=function(){function e(){c(this,e),this.listeners=[]}return p(e,[{key:"on",value:function(e){var t=this;return this.listeners.push(e),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}}},{key:"emit",value:function(e){this.listeners.forEach((function(t){return t(e)}))}}]),e}();function I(e){function t(t,n,o,r,a,s){for(var l=arguments.length,c=new Array(l>6?l-6:0),u=6;u<l;u++)c[u-6]=arguments[u];return i.untracked((function(){if(r=r||"<<anonymous>>",s=s||o,null==n[o]){if(t){var i=null===n[o]?"null":"undefined";return new Error("The "+a+" `"+s+"` is marked as required in `"+r+"`, but its value is `"+i+"`.")}return null}return e.apply(void 0,[n,o,r,a,s].concat(c))}))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function j(e){var t=l(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function B(e,t){return I((function(n,o,r,a,s){return i.untracked((function(){if(e&&j(n[o])===t.toLowerCase())return null;var a;switch(t){case"Array":a=i.isObservableArray;break;case"Object":a=i.isObservableObject;break;case"Map":a=i.isObservableMap;break;default:throw new Error("Unexpected mobxType: ".concat(t))}var l=n[o];if(!a(l)){var c=function(e){var t=j(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(l),u=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+s+"` of type `"+c+"` supplied to `"+r+"`, expected `mobx.Observable"+t+"`"+u+".")}return null}))}))}function R(e,t){return I((function(n,o,r,a,s){for(var l=arguments.length,c=new Array(l>5?l-5:0),u=5;u<l;u++)c[u-5]=arguments[u];return i.untracked((function(){if("function"!=typeof t)return new Error("Property `"+s+"` of component `"+r+"` has invalid PropType notation.");var i=B(e,"Array")(n,o,r);if(i instanceof Error)return i;for(var l=n[o],u=0;u<l.length;u++)if((i=t.apply(void 0,[l,u,r,a,s+"["+u+"]"].concat(c)))instanceof Error)return i;return null}))}))}B(!1,"Array"),R.bind(null,!1),B(!1,"Map"),B(!1,"Object"),B(!0,"Array"),R.bind(null,!0);var M=B(!0,"Object");var L=0;var z={};function U(e){return z[e]||(z[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react ".concat(e," (").concat(L,")");return L++,t}(e)),z[e]}var F=U("patchMixins"),W=U("patchedDefinition");function N(e,t){var n=e[F]=e[F]||{},o=n[t]=n[t]||{};return o.locks=o.locks||0,o.methods=o.methods||[],o}function V(e,t){for(var n=this,o=arguments.length,r=new Array(o>2?o-2:0),i=2;i<o;i++)r[i-2]=arguments[i];t.locks++;try{var a;return null!=e&&(a=e.apply(this,r)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,r)}))}}function K(e,t){return function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];V.call.apply(V,[this,e,t].concat(o))}}function H(e,t,n,o,r){var i,a=K(r,o);return d(i={},W,!0),d(i,"get",(function(){return a})),d(i,"set",(function(r){if(this===e)a=K(r,o);else{var i=H(this,t,n,o,r);Object.defineProperty(this,t,i)}})),d(i,"configurable",!0),d(i,"enumerable",n),i}var G={mobxStores:M};Object.seal(G);var X={contextTypes:{get:function(){return G},set:function(e){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function $(e,t,o){var r="inject-"+(t.displayName||t.name||t.constructor&&t.constructor.name||"Unknown");o&&(r+="-with-"+o);var i=function(o){function r(){var e,t;c(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=b(this,(e=m(r)).call.apply(e,[this].concat(o)))).storeRef=function(e){t.wrappedInstance=e},t}return f(r,n.Component),p(r,[{key:"render",value:function(){var o={};for(var r in this.props)this.props.hasOwnProperty(r)&&(o[r]=this.props[r]);var i=e(this.context.mobxStores||{},o,this.context)||{};for(var a in i)o[a]=i[a];return function(e){return!(e.prototype&&e.prototype.render)}(t)||(o.ref=this.storeRef),n.createElement(t,o)}}]),r}();return i.displayName=r,A(i,t),i.wrappedComponent=t,Object.defineProperties(i,X),i}function Y(e){return function(t,n){return e.forEach((function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}})),n}}function q(){var e;if("function"==typeof arguments[0])return e=arguments[0],function(t){var n=$(e,t);return n.isMobxInjector=!1,(n=be(n)).isMobxInjector=!0,n};for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e=Y(t),function(n){return $(e,n,t.join("-"))}}var Z=i.$mobx,J=U("isUnmounted"),Q=!1,ee=!1,te="undefined"!=typeof WeakMap?new WeakMap:void 0,ne=new P,oe=U("skipRender"),re=U("isForcingUpdate"),ie="function"==typeof n.forwardRef&&n.forwardRef((function(e,t){})).$$typeof;function ae(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}function se(e){if(r.findDOMNode)try{return r.findDOMNode(e)}catch(e){return null}return null}function le(e){var t=se(e);t&&te&&te.set(t,e),ne.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}var ce=new P;function ue(e,t){!function(e,t){for(var n=N(e,t),o=arguments.length,r=new Array(o>2?o-2:0),i=2;i<o;i++)r[i-2]=arguments[i];for(var a=0;a<r.length;a++){var s=r[a];n.methods.indexOf(s)<0&&n.methods.push(s)}var l=Object.getOwnPropertyDescriptor(e,t);if(!l||!l[W]){var c=e[t],u=H(e,t,l?l.enumerable:void 0,n,c);Object.defineProperty(e,t,u)}}(e,t,me[t])}function pe(e,t){if(de(e,t))return!0;if("object"!==l(e)||null===e||"object"!==l(t)||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var r=0;r<n.length;r++)if(!hasOwnProperty.call(t,n[r])||!de(e[n[r]],t[n[r]]))return!1;return!0}function de(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function fe(e){var t=this;function o(){var e=this;l=!1;var t=void 0,n=void 0;if(c.track((function(){Q&&(e.__$mobRenderStart=Date.now());try{n=i.allowStateChanges(!1,s)}catch(e){t=e}Q&&(e.__$mobRenderEnd=Date.now())})),t)throw ce.emit(t),t;return n}var r=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",a=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;ae(this,oe,!1),ae(this,re,!1);var s=e.bind(this),l=!1,c=new i.Reaction("".concat(r,"#").concat(a,".render()"),(function(){if(!l&&(l=!0,"function"==typeof t.componentWillReact&&t.componentWillReact(),!0!==t[J])){var e=!0;try{ae(t,re,!0),t[oe]||n.Component.prototype.forceUpdate.call(t),e=!1}finally{ae(t,re,!1),e&&c.dispose()}}}));return c.reactComponent=this,o[Z]=c,this.render=o,o.call(this)}var me={componentWillUnmount:function(){if(this.render[Z]&&this.render[Z].dispose(),this[J]=!0,Q){var e=se(this);e&&te&&te.delete(e),ne.emit({event:"destroy",component:this,node:e})}},componentDidMount:function(){Q&&le(this)},componentDidUpdate:function(){Q&&le(this)},shouldComponentUpdate:function(e,t){return this.state!==t||!pe(this.props,e)}};function he(e,t){var n=U("reactProp_".concat(t,"_valueHolder")),o=U("reactProp_".concat(t,"_atomHolder"));function r(){return this[o]||ae(this,o,i.createAtom("reactive "+t)),this[o]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return r.call(this).reportObserved(),this[n]},set:function(e){this[re]||pe(this[n],e)?ae(this,n,e):(ae(this,n,e),ae(this,oe,!0),r.call(this).reportChanged(),ae(this,oe,!1))}})}function be(e,t){if("string"==typeof e)throw new Error("Store names should be provided as array");if(Array.isArray(e))return ee||(ee=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),t?q.apply(null,e)(be(t)):function(t){return be(e,t)};var r=e;if(!0===r.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),r.__proto__===n.PureComponent&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),ie&&r.$$typeof===ie){var i=r.render;if("function"!=typeof i)throw new Error("render property of ForwardRef was not a function");return n.forwardRef((function(){var e=arguments;return o.createElement(ge,null,(function(){return i.apply(void 0,e)}))}))}if(!("function"!=typeof r||r.prototype&&r.prototype.render||r.isReactClass||n.Component.isPrototypeOf(r))){var a,s,l=be((s=a=function(e){function t(){return c(this,t),b(this,m(t).apply(this,arguments))}return f(t,n.Component),p(t,[{key:"render",value:function(){return r.call(this,this.props,this.context)}}]),t}(),a.displayName=r.displayName||r.name,a.contextTypes=r.contextTypes,a.propTypes=r.propTypes,a.defaultProps=r.defaultProps,s));return A(l,r),l}if(!r)throw new Error("Please pass a valid component to 'observer'");var u=r.prototype||r;!function(e){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach((function(t){ue(e,t)})),e.shouldComponentUpdate?e.shouldComponentUpdate!==me.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):e.shouldComponentUpdate=me.shouldComponentUpdate}(u),r.isMobXReactObserver=!0,he(u,"props"),he(u,"state");var d=u.render;return u.render=function(){return fe.call(this,d)},r}var ge=be((function(e){var t=e.children,n=e.inject,r=e.render,i=t||r;if(void 0===i)return null;if(!n)return i();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var a=q(n)(i);return o.createElement(a,null)}));ge.displayName="Observer";var ve=function(e,t,n,o,r){var i="children"===t?"render":"children";return"function"==typeof e[t]&&"function"==typeof e[i]?new Error("Invalid prop,do not use children and render in the same time in`"+n):"function"!=typeof e[t]&&"function"!=typeof e[i]?new Error("Invalid prop `"+r+"` of type `"+l(e[t])+"` supplied to `"+n+"`, expected `function`."):void 0};function xe(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function ye(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function Ce(e,t){try{var n=this.props,o=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}ge.propTypes={render:ve,children:ve},xe.__suppressDeprecationWarning=!0,ye.__suppressDeprecationWarning=!0,Ce.__suppressDeprecationWarning=!0;var we={children:!0,key:!0,ref:!0},Te=function(e){function t(e,n){var o;return c(this,t),(o=b(this,m(t).call(this,e,n))).state={},_e(e,o.state),o}return f(t,n.Component),p(t,[{key:"render",value:function(){return n.Children.only(this.props.children)}},{key:"getChildContext",value:function(){var e={};return _e(this.context.mobxStores,e),_e(this.props,e),{mobxStores:e}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e)return null;if(!t)return e;if(Object.keys(e).filter(ke).length!==Object.keys(t).filter(ke).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var n in e)ke(n)&&t[n]!==e[n]&&console.warn("MobX Provider: Provided store '"+n+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return e}}]),t}();function _e(e,t){if(e)for(var n in e)ke(n)&&(t[n]=e[n])}function ke(e){return!we[e]&&"suppressChangedStoreWarning"!==e}Te.contextTypes={mobxStores:M},Te.childContextTypes={mobxStores:M.isRequired},function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,r=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?r="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(r="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==r){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==r?"\n  "+r:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=xe,t.componentWillReceiveProps=ye),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Ce;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var o=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,o)}}}(Te);U("disposeOnUnmount");if(!n.Component)throw new Error("mobx-react requires React to be available");if(!i.spy)throw new Error("mobx-react requires mobx to be available");if("function"==typeof r.unstable_batchedUpdates&&i.configure({reactionScheduler:r.unstable_batchedUpdates}),"object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":l(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var Ee={spy:i.spy,extras:{getDebugName:i.getDebugName}},Oe={renderReporter:ne,componentByNodeRegistry:te,componentByNodeRegistery:te,trackComponents:function(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");Q||(Q=!0)}};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(Oe,Ee)}var Se,De,Ae,Pe,Ie,je=s.div(Se||(Se=t.__makeTemplateObject(["\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n"],["\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n"]))),Be=s.canvas(De||(De=t.__makeTemplateObject(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]))),Re=s.div(Ie||(Ie=t.__makeTemplateObject(["\n  display: ",";\n  flex-direction: row;\n  align-items: center;\n  height: ","px;\n  color: ",";\n  padding: 8px 24px;\n  box-sizing: border-box;\n  position: absolute;\n  width: 100%;\n  z-index: 5;\n  background: ",";\n  ","\n"],["\n  display: ",";\n  flex-direction: row;\n  align-items: center;\n  height: ","px;\n  color: ",";\n  padding: 8px 24px;\n  box-sizing: border-box;\n  position: absolute;\n  width: 100%;\n  z-index: 5;\n  background: ",";\n  ","\n"])),(function(e){return e.hide?"none":"flex"}),(function(e){return e.theme.measurements.canvas.bar.height}),(function(e){return e.theme.mainCanvasActionBar.foreground}),(function(e){return e.transparentBackgound?"transparent":e.theme.mainCanvasActionBar.background}),(function(e){return e.bottom?a.css(Ae||(Ae=t.__makeTemplateObject(["\n      justify-content: space-around;\n      bottom: 0;\n      transform: rotate(180deg)\n    "],["\n      justify-content: space-around;\n      bottom: 0;\n      transform: rotate(180deg)\n    "]))):a.css(Pe||(Pe=t.__makeTemplateObject(["\n      justify-content: space-between;\n  "],["\n      justify-content: space-between;\n  "])))}));Re.defaultProps={theme:i.defaultTheme};var Me,Le,ze,Ue,Fe,We,Ne,Ve,Ke=i.measurements.shared.buttons.float.size,He=s(i.Components.Button.Index)(Me||(Me=t.__makeTemplateObject(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  background:  ",";\n  color:  ",";\n  margin: 0 5px;\n"],["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  background:  ",";\n  color:  ",";\n  margin: 0 5px;\n"])),(function(e){return e.theme.measurements.fontSystem.button2.size}),(function(e){return e.theme.measurements.fontSystem.button2.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.button2.case}),(function(e){return e.theme.mainCanvasActionBar.buttonBackground}),(function(e){return e.theme.mainCanvasActionBar.buttonForeground})),Ge=s(i.Components.Button.Secondary)(Le||(Le=t.__makeTemplateObject(["\n  margin-top: 3px;\n"],["\n  margin-top: 3px;\n"]))),Xe=s(i.Components.Button.Primary)(ze||(ze=t.__makeTemplateObject(["\n  margin-top: 3px;\n  margin-right: 10px;\n"],["\n  margin-top: 3px;\n  margin-right: 10px;\n"]))),$e=s.div(Ue||(Ue=t.__makeTemplateObject(["\n  width: 60px;\n  height: 60px;\n  background-color: gray;\n  border-radius: 50%;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 5;\n"],["\n  width: 60px;\n  height: 60px;\n  background-color: gray;\n  border-radius: 50%;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 5;\n"]))),Ye=s(i.Components.Button.Index)(Fe||(Fe=t.__makeTemplateObject(["\n  height: ","px;\n  width: ","px;\n  border-radius: 50%;\n  margin: 2px;\n  background-color: ",";\n"],["\n  height: ","px;\n  width: ","px;\n  border-radius: 50%;\n  margin: 2px;\n  background-color: ",";\n"])),Ke,Ke,(function(e){return e.theme.foreground})),qe=s.div.attrs({role:"main"})(We||(We=t.__makeTemplateObject(["\n  background-color: ",";\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-basis: auto;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"],["\n  background-color: ",";\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-basis: auto;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])),(function(e){return e.theme.canvas.background})),Ze=s.canvas(Ne||(Ne=t.__makeTemplateObject(["\n  position: absolute;\n  top: 0;\n  left: 0;\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n"]))),Je=s.div(Ve||(Ve=t.__makeTemplateObject(["\n  position: relative;\n  transition: all 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);\n  height: 100%;\n  width: 100%;\n  z-index: 7;\n  background-color: ",";\n"],["\n  position: relative;\n  transition: all 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);\n  height: 100%;\n  width: 100%;\n  z-index: 7;\n  background-color: ",";\n"])),(function(e){return e.theme.webcam.backdrop}));Je.defaultProps={theme:i.defaultTheme};var Qe,et,tt,nt=s.video(Qe||(Qe=t.__makeTemplateObject(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n"],["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n"]))),ot=s.div(et||(et=t.__makeTemplateObject(["\n  display: inline-flex;\n"],["\n  display: inline-flex;\n"]))),rt=s.div.attrs((function(e){var t=e.radius;return{style:{height:2*t+"px",width:2*t+"px"}}}))(tt||(tt=t.__makeTemplateObject(["\n  border-radius: 50%;\n  border: 2px solid ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.20), inset 0 2px 6px 0 rgba(0, 0, 0, 0.20);\n  cursor: move;\n"],["\n  border-radius: 50%;\n  border: 2px solid ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.20), inset 0 2px 6px 0 rgba(0, 0, 0, 0.20);\n  cursor: move;\n"])),(function(e){return e.theme.canvas.controlsOutline}));rt.defaultProps={theme:i.defaultTheme};var it,at=s.div(it||(it=t.__makeTemplateObject(["\n  position: absolute;\n  color: ","\n"],["\n  position: absolute;\n  color: ","\n"])),(function(e){return e.theme.canvas.controlsOutline}));at.defaultProps={theme:i.defaultTheme};var st,lt=s.div(st||(st=t.__makeTemplateObject(["\n  position: absolute;\n  height: ","px;\n  width: ",'px;\n  margin-left: -10px;\n  margin-top: -10px;\n  z-index: 5;\n  will-change: transform;\n  &:before {\n    display: block;\n    position: absolute;\n    cursor: ew-resize;\n    content: "";\n    background: ',";\n    border-radius: 50%;\n    width: ","px;\n    height: ","px;\n    top: ","px;\n    left: ","px;\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.24);\n  }\n"],["\n  position: absolute;\n  height: ","px;\n  width: ",'px;\n  margin-left: -10px;\n  margin-top: -10px;\n  z-index: 5;\n  will-change: transform;\n  &:before {\n    display: block;\n    position: absolute;\n    cursor: ew-resize;\n    content: "";\n    background: ',";\n    border-radius: 50%;\n    width: ","px;\n    height: ","px;\n    top: ","px;\n    left: ","px;\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.24);\n  }\n"])),(function(e){return e.theme.measurements.canvas.knob.touchable.desktop}),(function(e){return e.theme.measurements.canvas.knob.touchable.desktop}),(function(e){return e.theme.canvas.controls}),(function(e){return e.theme.measurements.canvas.knob.size}),(function(e){return e.theme.measurements.canvas.knob.size}),(function(e){return e.theme.measurements.canvas.knob.size/4}),(function(e){return e.theme.measurements.canvas.knob.size/4}));lt.defaultProps={theme:i.defaultTheme};var ct,ut,pt,dt,ft,mt,ht,bt,gt,vt,xt,yt,Ct,wt,Tt,_t,kt,Et,Ot,St,Dt,At,Pt=i.measurements.canvas.corner,It=Pt.size,jt=Pt.touchable,Bt=jt.mobile,Rt=jt.desktop,Mt=s.div(Ct||(Ct=t.__makeTemplateObject(["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  ","\n  ","\n  ","\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    width: ","px;\n    height: ","px;\n    ","\n    ","\n  }\n"],["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  ","\n  ","\n  ","\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    width: ","px;\n    height: ","px;\n    ","\n    ","\n  }\n"])),Rt,Rt,(function(e){return"top"===e.vertical?a.css(ct||(ct=t.__makeTemplateObject(["top: 0px;"],["top: 0px;"]))):a.css(ut||(ut=t.__makeTemplateObject(["bottom: 0px;"],["bottom: 0px;"])))}),(function(e){return"left"===e.horizontal?a.css(pt||(pt=t.__makeTemplateObject(["left: 0px;"],["left: 0px;"]))):a.css(dt||(dt=t.__makeTemplateObject(["right: 0px;"],["right: 0px;"])))}),(function(e){return"top"===e.vertical?a.css(ft||(ft=t.__makeTemplateObject(["margin-top: -","px;"],["margin-top: -","px;"])),Rt/4):a.css(mt||(mt=t.__makeTemplateObject(["margin-bottom: -","px;"],["margin-bottom: -","px;"])),Rt/4)}),(function(e){return"left"===e.horizontal?a.css(ht||(ht=t.__makeTemplateObject(["margin-left: -","px;"],["margin-left: -","px;"])),Rt/4):a.css(bt||(bt=t.__makeTemplateObject(["margin-right: -","px;"],["margin-right: -","px;"])),Rt/4)}),Bt,Bt,(function(e){return"top"===e.vertical?a.css(gt||(gt=t.__makeTemplateObject(["margin-top: -","px;"],["margin-top: -","px;"])),Bt/2):a.css(vt||(vt=t.__makeTemplateObject(["margin-bottom: -","px;"],["margin-bottom: -","px;"])),Bt/2)}),(function(e){return"left"===e.horizontal?a.css(xt||(xt=t.__makeTemplateObject(["margin-left: -","px;"],["margin-left: -","px;"])),Bt/2):a.css(yt||(yt=t.__makeTemplateObject(["margin-right: -","px;"],["margin-right: -","px;"])),Bt/2)})),Lt=s(Mt)((function(e){var n="right"===e.horizontal?e.borderWidth:0,o="bottom"===e.vertical?e.borderWidth:0,r="left"===e.horizontal?e.borderWidth:0,i=("top"===e.vertical?e.borderWidth:0)+"px "+n+"px "+o+"px "+r+"px",s="left"===e.horizontal&&"bottom"===e.vertical||"right"===e.horizontal&&"top"===e.vertical?"nesw-resize":"nwse-resize",l=Rt/4-e.borderWidth;return a.css(At||(At=t.__makeTemplateObject(['\n  &:before {\n    display: block;\n    position: absolute;\n    content: "";\n    width: ',"px;\n    height: ","px;\n    z-index: 4;\n    border-color: ",";\n    border-style: solid;\n    border-width: ",";\n    ","\n    ","\n    cursor: ",";\n    @media all and(min-width: 0) and(max-width: 599px) {\n      ","\n      ","\n    }\n  }"],['\n  &:before {\n    display: block;\n    position: absolute;\n    content: "";\n    width: ',"px;\n    height: ","px;\n    z-index: 4;\n    border-color: ",";\n    border-style: solid;\n    border-width: ",";\n    ","\n    ","\n    cursor: ",";\n    @media all and(min-width: 0) and(max-width: 599px) {\n      ","\n      ","\n    }\n  }"])),It,It,(function(e){return e.theme.canvas.frame}),i,"top"===e.vertical?a.css(wt||(wt=t.__makeTemplateObject(["top: ","px;"],["top: ","px;"])),l):a.css(Tt||(Tt=t.__makeTemplateObject(["bottom: ","px;"],["bottom: ","px;"])),l),"left"===e.horizontal?a.css(_t||(_t=t.__makeTemplateObject(["left: ","px;"],["left: ","px;"])),l):a.css(kt||(kt=t.__makeTemplateObject(["right: ","px;"],["right: ","px;"])),l),s,"top"===e.vertical?a.css(Et||(Et=t.__makeTemplateObject(["margin-top: ","px;"],["margin-top: ","px;"])),Bt/2):a.css(Ot||(Ot=t.__makeTemplateObject(["margin-bottom: ","px;"],["margin-bottom: ","px;"])),Bt/2),"left"===e.horizontal?a.css(St||(St=t.__makeTemplateObject(["margin-left: ","px;"],["margin-left: ","px;"])),Bt/2):a.css(Dt||(Dt=t.__makeTemplateObject(["margin-right: ","px;"],["margin-right: ","px;"])),Bt/2))}));Lt.defaultProps={theme:i.defaultTheme};var zt,Ut=s.div(zt||(zt=t.__makeTemplateObject(["\n  position: absolute;\n  height: ","px;\n  width: 4px;\n  z-index: 4;\n  background: ",";\n  cursor: pointer;\n"],["\n  position: absolute;\n  height: ","px;\n  width: 4px;\n  z-index: 4;\n  background: ",";\n  cursor: pointer;\n"])),(function(e){return e.theme.measurements.canvas.width.size}),(function(e){return e.theme.canvas.controls}));Ut.defaultProps={theme:i.defaultTheme};var Ft,Wt=s.div.attrs((function(e){return{style:{height:e.height+"px",width:e.width+"px"}}}))(Ft||(Ft=t.__makeTemplateObject(["\n  border-style: solid;\n  border-width: 2px 0 2px 0;\n  border-color: ",";\n  box-shadow: 0 -6px 6px -6px rgba(0, 0, 0, 0.20), inset 0 6px 6px -6px rgba(0, 0, 0, 0.20);\n  cursor: move;\n  position: absolute;\n"],["\n  border-style: solid;\n  border-width: 2px 0 2px 0;\n  border-color: ",";\n  box-shadow: 0 -6px 6px -6px rgba(0, 0, 0, 0.20), inset 0 6px 6px -6px rgba(0, 0, 0, 0.20);\n  cursor: move;\n  position: absolute;\n"])),(function(e){return e.theme.canvas.controlsOutline}));Wt.defaultProps={theme:i.defaultTheme};var Nt,Vt=i.measurements.canvas.sprite.controlPadding,Kt=s.div.attrs((function(e){var t=e.height,n=e.width;return{style:{height:t+Vt+"px",width:n+Vt+"px"}}}))(Nt||(Nt=t.__makeTemplateObject(["\n  left: -","px;\n  top: -","px;\n  transform-origin: center center;\n  border-style: solid;\n  border-width: 2px;\n  border-color: ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.20), inset 0 2px 6px 0 rgba(0, 0, 0, 0.20);\n  cursor: move;\n  will-change: transform;\n  position: absolute;\n"],["\n  left: -","px;\n  top: -","px;\n  transform-origin: center center;\n  border-style: solid;\n  border-width: 2px;\n  border-color: ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.20), inset 0 2px 6px 0 rgba(0, 0, 0, 0.20);\n  cursor: move;\n  will-change: transform;\n  position: absolute;\n"])),Vt/2,Vt/2,(function(e){return e.theme.canvas.frame}));Kt.defaultProps={theme:i.defaultTheme};var Ht,Gt,Xt,$t,Yt=s.div.attrs((function(e){return{style:{left:e.x+"px"}}}))(Ht||(Ht=t.__makeTemplateObject(["\n  position: absolute;\n  bottom: -","px;\n  height: ","px;\n  width: 2px;\n  background-color: ",";\n"],["\n  position: absolute;\n  bottom: -","px;\n  height: ","px;\n  width: 2px;\n  background-color: ",";\n"])),(function(e){return e.theme.measurements.canvas.sprite.rotateHandle.height}),(function(e){return e.theme.measurements.canvas.sprite.rotateHandle.height}),(function(e){return e.theme.canvas.controlsOutline})),qt=s.div(Gt||(Gt=t.__makeTemplateObject(["\n  position: relative;\n  height: inherit;\n  width: inherit;\n  overflow: hidden;\n"],["\n  position: relative;\n  height: inherit;\n  width: inherit;\n  overflow: hidden;\n"]))),Zt=s.div.attrs({tabIndex:0})(Xt||(Xt=t.__makeTemplateObject(["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  top: 0;\n  left: 0;\n  &:focus {\n    outline: 0;\n  }\n"],["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  top: 0;\n  left: 0;\n  &:focus {\n    outline: 0;\n  }\n"])),(function(e){return e.height}),(function(e){return e.width})),Jt=s(i.Components.Button.Secondary)($t||($t=t.__makeTemplateObject(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  letter-spacing: unset;\n  border-radius: unset;\n  border: unset;\n  text-transform: unset;\n  color: ",";\n  padding: 4px 10px;\n  position: relative;\n  height: 32px;\n  /* for safari */\n  margin: 0;\n  &:last-child:after {\n    opacity: 0;\n  }\n"],["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  letter-spacing: unset;\n  border-radius: unset;\n  border: unset;\n  text-transform: unset;\n  color: ",";\n  padding: 4px 10px;\n  position: relative;\n  height: 32px;\n  /* for safari */\n  margin: 0;\n  &:last-child:after {\n    opacity: 0;\n  }\n"])),(function(e){return e.theme.measurements.fontSystem.button1.size}),(function(e){return e.theme.measurements.fontSystem.button1.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.button1.case}),(function(e){return e.theme.canvasActionBar.foreground}));Jt.defaultProps={theme:i.defaultTheme};var Qt,en,tn,nn=s.div(tn||(tn=t.__makeTemplateObject(["\n  ",";\n  display: inline-flex;\n  position: absolute;\n  transform: translate(-50%, -100%);\n  background: ",";\n  border-radius: ","px;\n  white-space: nowrap;\n  transition: opacity 0.3s ease-in-out;\n  /* more z-index than knob */\n  z-index: 5;\n  "," {\n    &:after {\n      content: '';\n      position: absolute;\n      right: 0px;\n      top: 6px;\n      height: calc(100% - 12px);\n      border-right: 1px solid ",";\n      &:last-child {\n        border-right: unset;\n      }\n    }\n  }\n"],["\n  ",";\n  display: inline-flex;\n  position: absolute;\n  transform: translate(-50%, -100%);\n  background: ",";\n  border-radius: ","px;\n  white-space: nowrap;\n  transition: opacity 0.3s ease-in-out;\n  /* more z-index than knob */\n  z-index: 5;\n  "," {\n    &:after {\n      content: '';\n      position: absolute;\n      right: 0px;\n      top: 6px;\n      height: calc(100% - 12px);\n      border-right: 1px solid ",";\n      &:last-child {\n        border-right: unset;\n      }\n    }\n  }\n"])),(function(e){return e.show?a.css(Qt||(Qt=t.__makeTemplateObject(["opacity: 1"],["opacity: 1"]))):a.css(en||(en=t.__makeTemplateObject(["opacity: 0"],["opacity: 0"])))}),(function(e){return e.theme.canvasActionBar.background}),(function(e){return e.theme.shape.radiusMedium}),Jt,(function(e){return e.theme.canvasActionBar.separator}));nn.defaultProps={theme:i.defaultTheme};var on,rn,an,sn,ln,cn=s.div(on||(on=t.__makeTemplateObject(["\n  position: absolute;\n  background: ",";\n  z-index: 4;\n  transition: all 0.4s ease-in-out;\n"],["\n  position: absolute;\n  background: ",";\n  z-index: 4;\n  transition: all 0.4s ease-in-out;\n"])),(function(e){return e.theme.canvas.cropBackdrop})),un={Index:Be,Area:je,Bar:{Index:Re,ButtonGroup:ot},Button:{Primary:Xe,Secondary:Ge,Tertiary:He,Float:function(e){var t=e.onClick,n=e.style,r=e.ariaLabel,i=e.className;return o.createElement($e,{className:i,style:n},o.createElement(Ye,{ariaLabel:r,onClick:t}))}},Container:qe,Element:Ze,Wrapper:Je,Webcam:nt,Controls:{Knob:lt,Circle:rt,Corner:Lt,Line:at,Area:Wt,Sprite:Kt,RotateHandle:Yt,Container:qt,Wrapper:Zt,SpriteActionsWrapper:nn,SpriteActionButton:Jt,Width:Ut},Crop:{Box:s.div(rn||(rn=t.__makeTemplateObject(["\n  position: absolute;\n  box-shadow: inset 0 0 0 2px ",";\n  cursor: move;\n  transition: all 0.4s ease-in-out;\n"],["\n  position: absolute;\n  box-shadow: inset 0 0 0 2px ",";\n  cursor: move;\n  transition: all 0.4s ease-in-out;\n"])),(function(e){return e.theme.canvas.controlsOutline})),GridLine:s.div(an||(an=t.__makeTemplateObject(["\n  position: absolute;\n  background: ",";\n  z-index: 2;\n  transition: all 0.4s ease-in-out;\n"],["\n  position: absolute;\n  background: ",";\n  z-index: 2;\n  transition: all 0.4s ease-in-out;\n"])),(function(e){return e.theme.canvas.controlsOutline})),Backdrop:cn,Control:s.div(sn||(sn=t.__makeTemplateObject(["\n  position: absolute;\n  width: 14px;\n  height: 14px;\n  z-index: 4;\n  border-color: ",";\n  border-style: solid;\n  transition: all 0.4s ease-in-out;\n"],["\n  position: absolute;\n  width: 14px;\n  height: 14px;\n  z-index: 4;\n  border-color: ",";\n  border-style: solid;\n  transition: all 0.4s ease-in-out;\n"])),(function(e){return e.theme.canvas.controls}))}},pn=i.measurements.shared.buttons.float.size,dn=s(un.Button.Float)(ln||(ln=t.__makeTemplateObject(["\n  > button {\n    background-color: ",";\n  }\n"],["\n  > button {\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.webcam.button})),fn=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.init=function(){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){t.video.srcObject=e})).catch((function(e){t.props.modal.showActionModal({identifier:"webcamUnavailable",error:e,handlers:t.modalHandler})})):t.props.modal.showActionModal({identifier:"webcamUnavailable",error:"Webcam not supported",handlers:t.modalHandler})},t.stop=function(){t.video.srcObject.getTracks().forEach((function(e){e.stop()})),t.video.srcObject=null,t.props.active.selectWebcam(!1)},t.capture=function(){t.canvas.width=t.video.videoWidth,t.canvas.height=t.video.videoHeight,t.canvas.getContext("2d").drawImage(t.video,0,0),t.props.active.newImage(t.canvas.toDataURL("image/webp"))},t}return t.__extends(n,e),n.prototype.componentDidMount=function(){var e=this;this.canvas=document.createElement("canvas"),this.video=document.getElementById("video"),this.modalHandler={buttonYes:function(){e.props.active.selectWebcam(!1)}},this.init()},n.prototype.render=function(){var e=this.props.editor.getPreviewSize(),t=e.height,n=e.width,r=this.props.canvas.canvasSize.height,i=(r-t)/2,a=i<24+pn?r-48-pn/2:r-i+24,s=this.props.active.webcamLabel;return o.createElement(un.Wrapper,null,o.createElement(un.Bar.Index,{transparentBackgound:!0,style:{justifyContent:"flex-end"}},o.createElement(un.Bar.ButtonGroup,null,o.createElement(un.Button.Secondary,{ariaLabel:s,onClick:this.stop},s))),o.createElement(un.Webcam,{style:{height:t,width:n},autoPlay:!0,id:"video"}),o.createElement(dn,{ariaLabel:"Click ans Save",style:{top:a},onClick:this.capture}))},n}(o.Component),mn=q("active","canvas","modal","editor")(be(fn));dn.defaultProps={theme:i.defaultTheme};var hn,bn,gn,vn,xn,yn,Cn,wn,Tn,_n,kn,En,On,Sn,Dn,An,Pn,In,jn,Bn,Rn,Mn,Ln=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeout=null,t.updateDimensions=function(e){void 0===e&&(e=!0),e?(clearTimeout(t.timeout),t.timeout=setTimeout((function(){t.update(e)}),100)):t.update(e)},t.update=function(e){void 0===e&&(e=!0),t.props.canvas.saveDimensions({width:t.wrapperElement&&t.wrapperElement.clientWidth||0,height:t.wrapperElement&&t.wrapperElement.clientHeight||0,render:e})},t}return t.__extends(n,e),n.prototype.componentDidMount=function(){var e=this;this.wrapperElement=document.getElementById("CanvasContainer"),this.updateDimensions(!1),window.addEventListener("resize",(function(t){return e.updateDimensions()}))},n.prototype.componentWillUnmount=function(){var e=this;window.removeEventListener("resize",(function(t){return e.updateDimensions()})),this.timeout&&clearTimeout(this.timeout)},n.prototype.render=function(){return o.createElement(un.Container,{id:"CanvasContainer"},this.props.children)},n}(n.Component),zn=q("canvas")(be(Ln)),Un=function(e,t){return void 0!==e&&void 0!==t},Fn=s(un.Controls.Knob)(hn||(hn=t.__makeTemplateObject(["\n  margin-top: -8px;\n  margin-left: -8px;\n"],["\n  margin-top: -8px;\n  margin-left: -8px;\n"]))),Wn=s(un.Controls.Container)(bn||(bn=t.__makeTemplateObject(["\n  overflow: unset;\n"],["\n  overflow: unset;\n"]))),Nn=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.start=function(e,n){var o=n.x,r=n.y;Un(o,r)&&t.focusTool.setStart({x:o,y:r})},t.end=function(e,n){var o=n.x,r=n.y;Un(o,r)&&t.focusTool.setEnd({x:o,y:r})},t.onKnob1DragStart=function(e,n){t.focusTool.clickableCanvas(!1),t.start(e,n)},t.onKnob1DragStop=function(e,n){t.addSnapshot(n,t.historyLocale.focusPosition),t.start(e,n),t.focusTool.clickableCanvas(!0)},t.onKnob2DragStart=function(e,n){t.focusTool.clickableCanvas(!1),t.end(e,n)},t.onKnob2DragStop=function(e,n){t.addSnapshot(n,t.historyLocale.focusPosition),t.end(e,n),t.focusTool.clickableCanvas(!0)},t.addSnapshot=function(e,n){var o=e.x,r=e.y;Un(o,r)&&t.focusTool.toolSnapshot(n)},t.getLine=function(){var e=t.props.canvas.canvasSize,n=e.height,r=e.width,i=t.focusTool.startOnPreview,a=t.focusTool.endOnPreview;return o.createElement("svg",{focusable:"false",height:n,width:r},o.createElement("line",{x1:i.x,y1:i.y,x2:a.x,y2:a.y,strokeWidth:"2",stroke:"currentColor"}))},t}return t.__extends(n,e),Object.defineProperty(n.prototype,"focusTool",{get:function(){return this.props.focusTool},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"historyLocale",{get:function(){return this.focusTool.locale.history},enumerable:!0,configurable:!0}),n.prototype.render=function(){return o.createElement(Wn,null,o.createElement(un.Controls.Line,null,this.getLine()),o.createElement(i.Components.Draggable,{bounds:"parent",position:this.focusTool.startOnPreview,onStart:this.onKnob1DragStart,onDrag:this.start,onStop:this.onKnob1DragStop},o.createElement(Fn,null)),o.createElement(i.Components.Draggable,{bounds:"parent",onStart:this.onKnob2DragStart,onDrag:this.end,onStop:this.onKnob2DragStop,position:this.focusTool.endOnPreview},o.createElement(Fn,null)))},n}(o.Component),Vn=q("canvas","focusTool")(be(Nn)),Kn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={knobAngle:2.35},n.getKnobPosition=function(){var e=n.focusTool.center,t=n.focusTool.radius,o=Math.PI-n.state.knobAngle;return{x:e.x+t*Math.cos(o),y:e.y+t*Math.sin(o)}},n.onCircle=function(e,t){var o=t.x,r=t.y;if(Un(o,r)){var i=n.focusTool.radius;n.focusTool.setCenter({x:o+i,y:r+i})}},n.onKnob=function(e,o){var r=o.x,i=o.y;if(Un(r,i)){var a=n.focusTool.center,s=new t.Vector2(r,i),l=new t.Vector2(a.x,a.y).subtract(s),c=l.magnitude,u=-Math.atan2(l.y,l.x);n.setState({knobAngle:u}),n.focusTool.setRadius(c)}},n.onCircleDragStart=function(e,t){n.focusTool.clickableCanvas(!1),n.onCircle(e,t)},n.onCircleDragStop=function(e,t){n.addSnapshot(t,n.historyLocale.focusPosition),n.onCircle(e,t),n.focusTool.clickableCanvas(!0)},n.onKnobDragStart=function(e,t){n.focusTool.clickableCanvas(!1),n.onKnob(e,t)},n.onKnobDragStop=function(e,t){n.addSnapshot(t,n.historyLocale.focusSize),n.onKnob(e,t),n.focusTool.clickableCanvas(!0)},n.addSnapshot=function(e,t){var o=e.x,r=e.y;Un(o,r)&&n.focusTool.toolSnapshot(t)},n}return t.__extends(n,e),n.prototype.componentDidMount=function(){this.setState({knobAngle:2.35})},Object.defineProperty(n.prototype,"historyLocale",{get:function(){return this.focusTool.locale.history},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"focusTool",{get:function(){return this.props.focusTool},enumerable:!0,configurable:!0}),n.prototype.render=function(){var e=this.focusTool.center,t=this.focusTool.radius,n={x:e.x-t,y:e.y-t};return o.createElement(un.Controls.Container,null,o.createElement(i.Components.Draggable,{bounds:"parent",onStart:this.onKnobDragStart,onDrag:this.onKnob,onStop:this.onKnobDragStop,position:this.getKnobPosition()},o.createElement(un.Controls.Knob,null)),o.createElement(i.Components.Draggable,{onStart:this.onCircleDragStart,onDrag:this.onCircle,onStop:this.onCircleDragStop,position:n},o.createElement(un.Controls.Circle,{radius:t})))},n}(o.Component),Hn=q("focusTool","canvas")(be(Kn)),Gn=i.measurements.canvas.knob.size,Xn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getKnobPosition=function(){var e=n.focusTool.origin,t=n.focusTool.size/2,o=Math.PI/2+n.focusTool.rotationOnPreview;return{x:e.x+t*Math.cos(o),y:e.y+t*Math.sin(o)}},n.onArea=function(e,o){var r=o.x,i=o.y;if(Un(r,i)){var a=n.props.canvas,s=n.focusTool,l=s.size,c=r+s.mirroredAreaWidth/2,u=i+l/2,p=new t.Vector2(n.getKnobPosition()),d=new t.Vector2({x:r,y:i}).subtract(new t.Vector2(n.areaPosition)),f=p.add(d);f.x>Gn&&f.x<a.canvasSize.width-Gn&&f.y>Gn&&f.y<a.canvasSize.height-Gn&&n.focusTool.setOrigin({x:c,y:u})}},n.onKnob=function(e,o){var r=o.x,i=o.y;if(Un(r,i)){var a=new t.Vector2(n.focusTool.origin),s=new t.Vector2(r,i),l=a.subtract(s),c=l.magnitude,u=Math.PI/2+Math.atan2(l.y,l.x);n.focusTool.setSize(2*c),n.focusTool.setRotation(u)}},n.onAreaDragStop=function(e,t){n.addSnapshot(t,n.historyLocale.focusPosition),n.onArea(e,t)},n.onKnobDragStop=function(e,t){n.addSnapshot(t,n.historyLocale.focusSize),n.onKnob(e,t)},n.addSnapshot=function(e,t){var o=e.x,r=e.y;Un(o,r)&&n.focusTool.toolSnapshot(t)},n}return t.__extends(n,e),Object.defineProperty(n.prototype,"historyLocale",{get:function(){return this.focusTool.locale.history},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"focusTool",{get:function(){return this.props.focusTool},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"areaPosition",{get:function(){var e=this.focusTool,t=e.origin,n=e.size,o=e.mirroredAreaWidth;return{x:t.x-o/2,y:t.y-n/2}},enumerable:!0,configurable:!0}),n.prototype.render=function(){var e=this.areaPosition,t=e.x,n=e.y;return o.createElement(un.Controls.Container,null,o.createElement(i.Components.Draggable,{bounds:"parent",onStart:this.onKnob,onDrag:this.onKnob,onStop:this.onKnobDragStop,position:this.getKnobPosition()},o.createElement(un.Controls.Knob,null)),o.createElement(i.Components.Draggable,{onStart:this.onArea,onDrag:this.onArea,onStop:this.onAreaDragStop,position:{x:t,y:n},rotation:this.focusTool.rotationOnPreview},o.createElement(un.Controls.Area,{height:this.focusTool.size,width:this.focusTool.mirroredAreaWidth})))},n}(o.Component),$n=q("focusTool","canvas")(be(Xn)),Yn=q("focusTool")(be((function(e){var n=e.focusTool,r=n.state,i=function(){switch(r.identifier){case t.FocusIdentifier.LINEAR:return Vn;case t.FocusIdentifier.RADIAL:return Hn;case t.FocusIdentifier.MIRRORED:return $n}return null}();return n.isOptionSelected&&i?o.createElement(i,null):null}))),qn=s(un.Controls.Container)(gn||(gn=t.__makeTemplateObject(["\n  cursor: none;\n"],["\n  cursor: none;\n"]))),Zn=s.div(vn||(vn=t.__makeTemplateObject(["\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  border-width: 2px;\n  border-style: solid;\n  box-shadow:\n  0 0 0 0.5px rgba(0, 0, 0, 0.8),\n  0 0 0 1px rgba(255, 255, 255, 1);\n"],["\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  border-width: 2px;\n  border-style: solid;\n  box-shadow:\n  0 0 0 0.5px rgba(0, 0, 0, 0.8),\n  0 0 0 1px rgba(255, 255, 255, 1);\n"]))),Jn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.INITIAL_POSITION={x:void 0,y:void 0},n.state=t.__assign({},n.INITIAL_POSITION,{isDrawing:!1}),n.getCursorCoordinates=function(e){var t=0,o=0;if(-1!==e.type.indexOf("touch")){if(!(r=e).touches.length)return n.INITIAL_POSITION;t=r.touches[0].clientX,o=r.touches[0].clientY}else{var r;t=(r=e).clientX,o=r.clientY}var i=n.containerElement.getBoundingClientRect();return{x:t-i.left,y:o-i.top}},n.draw=function(e){e.preventDefault(),e.stopPropagation(),n.touchDraw(e)},n.touchDraw=function(e){var t=n.getCursorCoordinates(e),o=t.x,r=t.y;void 0!==o&&void 0!==r&&(n.setState({x:o,y:r}),n.state.isDrawing&&n.brushTool.strokePosition({x:o,y:r}))},n.start=function(e){n.brushTool.clickableCanvas(!1),n.setState({isDrawing:!0}),n.brushTool.beginStroke()},n.stop=function(e){n.state.isDrawing&&(e.preventDefault(),e.stopPropagation(),n.setState({isDrawing:!1}),n.brushTool.endStroke(),n.brushTool.clickableCanvas(!0))},n.setInitialPosition=function(){n.setState(t.__assign({},n.INITIAL_POSITION))},n.mouseOut=function(e){e.preventDefault(),e.stopPropagation();var t=n.getCursorCoordinates(e),o=t.x,r=t.y;if(o&&r){var a=n.containerElement.getBoundingClientRect();(o<0||r<0||o>a.width||r>a.height||r<i.measurements.canvas.bar.height)&&n.setInitialPosition()}},n.touchEnd=function(e){e.preventDefault(),e.stopPropagation();var t=n.state,o=t.x,r=t.y;o&&r&&n.setInitialPosition()},n.getCursor=function(){var e=n.state,t=e.x,r=e.y;if(t&&r){var a=i.convertToColorString(n.brushTool.color),s=n.brushTool.sizeOnScreenSpace+"px",l={left:n.state.x+"px",top:n.state.y+"px",borderColor:a,height:s,width:s};return o.createElement(Zn,{style:l})}return null},n}return t.__extends(n,e),n.prototype.componentDidMount=function(){this.containerElement=document.getElementById("CursorContainer"),document.addEventListener("mouseup",this.stop,!1),document.addEventListener("touchend",this.stop,{passive:!1})},n.prototype.componentWillUnmount=function(){document.removeEventListener("mouseup",this.stop,!1),document.removeEventListener("touchend",this.stop,!1)},Object.defineProperty(n.prototype,"brushTool",{get:function(){return this.props.brushTool},enumerable:!0,configurable:!0}),n.prototype.render=function(){return o.createElement(qn,{id:"CursorContainer",onMouseMove:this.draw,onTouchMove:this.touchDraw,onMouseDown:this.start,onTouchStart:this.start,onMouseOut:this.mouseOut,onTouchEnd:this.touchEnd},this.getCursor())},n}(o.Component),Qn=q("brushTool")(be(Jn)),eo=s.div(xn||(xn=t.__makeTemplateObject(["\n  overflow: hidden;\n  display: inline-block;\n  position: relative;\n  transform: unset !important;\n  vertical-align: bottom;\n"],["\n  overflow: hidden;\n  display: inline-block;\n  position: relative;\n  transform: unset !important;\n  vertical-align: bottom;\n"]))),to=s.div(yn||(yn=t.__makeTemplateObject(["\n  position: relative;\n  cursor: pointer;\n"],["\n  position: relative;\n  cursor: pointer;\n"]))),no=s.div(Cn||(Cn=t.__makeTemplateObject(["\n  font-size: 15px;\n  display: inline-block;\n  width: 33px;\n  text-align: center;\n  color: ",";\n  z-index: 2;\n  margin: 2px;\n"],["\n  font-size: 15px;\n  display: inline-block;\n  width: 33px;\n  text-align: center;\n  color: ",";\n  z-index: 2;\n  margin: 2px;\n"])),(function(e){return e.theme.foreground})),oo=s.div(wn||(wn=t.__makeTemplateObject(["\n  transform: translate(0, 0) !important;\n"],["\n  transform: translate(0, 0) !important;\n"]))),ro=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.SLIDER_WIDTH=213,t.MAX_ROTATION=45,t.DEGREES_PER_PIXEL=2*t.MAX_ROTATION/t.SLIDER_WIDTH,t.drag=function(e,n){var o=n.x,r=t.transformTool.defaultAngle+o*t.DEGREES_PER_PIXEL,i=Math.min(t.MAX_ROTATION,Math.max(r,-1*t.MAX_ROTATION));t.transformTool.setRotation(parseInt(i+"",10))},t.stop=function(){t.transformTool.setDefaultAngle(t.transformTool.rotationInDegrees),t.transformTool.addSnapshot()},t}return t.__extends(n,e),Object.defineProperty(n.prototype,"transformTool",{get:function(){return this.props.transformTool},enumerable:!0,configurable:!0}),n.prototype.render=function(){var e=this.transformTool.rotationInDegrees-this.transformTool.defaultAngle;return o.createElement(to,null,o.createElement(i.Components.Draggable,{axis:"x",position:{x:0,y:0},onStart:this.drag,onDrag:this.drag,onStop:this.stop,updateOnPosition:!0},o.createElement(oo,null,o.createElement(eo,null,o.createElement(i.TransformIcons.dots,{width:90,height:15,x:2*e})),o.createElement(no,null,this.props.transformTool.rotationInDegrees,""),o.createElement(eo,null,o.createElement(i.TransformIcons.dots,{width:90,height:15,x:2*e})))))},n}(o.Component),io=q("transformTool")(be(ro)),ao=s(i.Components.Button.Index)(Tn||(Tn=t.__makeTemplateObject([" align-self: center; color: ",";"],[" align-self: center; color: ",";"])),(function(e){return e.theme.foreground})),so=s(un.Bar.ButtonGroup)(_n||(_n=t.__makeTemplateObject(["\n  transform: scale(0.9);\n\n  @media all and (min-width: 0) and (max-width: 599px) {\n    transform: scale(0.7);\n  }\n"],["\n  transform: scale(0.9);\n\n  @media all and (min-width: 0) and (max-width: 599px) {\n    transform: scale(0.7);\n  }\n"]))),lo=q("transformTool","config")(be((function(e){var t=e.transformTool,n=e.config,r=o.createElement(ao,{ariaLabel:"Flip Horizontal",onClick:t.flipHorizontally},o.createElement(po,null)),i=o.createElement(ao,{ariaLabel:"Flip Vertical",onClick:t.flipVertically},o.createElement(fo,null)),a=o.createElement(ao,{ariaLabel:"Rotate Clockwise",onClick:t.rotateClockwise},o.createElement(co,{alt:"Rotate Clockwise"})),s=o.createElement(ao,{ariaLabel:"Rotate Anticlockwise",onClick:t.rotateAntiClockwise},o.createElement(uo,{alt:"Rotate Anticlockwise"})),l=n.isLayoutAdvanced?{transform:"rotate(180deg)"}:{};return o.createElement(so,{style:l},t.config.enableFlip&&r||null,t.config.enableFlip&&i||null,t.config.enableRotation&&o.createElement(io,null)||null,t.config.enableRotation&&s||null,t.config.enableRotation&&a||null)}))),co=s(i.TransformIcons.rotate)(kn||(kn=t.__makeTemplateObject(["\n  height: 16px;\n  width: 16px;\n  transform: scaleX(-1);\n"],["\n  height: 16px;\n  width: 16px;\n  transform: scaleX(-1);\n"]))),uo=s(i.TransformIcons.rotate)(En||(En=t.__makeTemplateObject(["\n  height: 16px;\n  width: 16px;\n"],["\n  height: 16px;\n  width: 16px;\n"]))),po=s(i.TransformIcons.flipHorizontal)(On||(On=t.__makeTemplateObject(["\n  height: 16px;\n  width: 16px;\n"],["\n  height: 16px;\n  width: 16px;\n"]))),fo=s(i.TransformIcons.flipVertical)(Sn||(Sn=t.__makeTemplateObject(["\n  height: 16px;\n  width: 16px;\n"],["\n  height: 16px;\n  width: 16px;\n"]))),mo=un.Crop.GridLine,ho=un.Crop.Box,bo=un.Crop.Control,go=i.Components.Draggable,vo=s(bo)(Dn||(Dn=t.__makeTemplateObject(["\n  border-width: 2px 0px 0px 2px;\n  left: 0px;\n  top: 0px;\n  cursor: nwse-resize;\n"],["\n  border-width: 2px 0px 0px 2px;\n  left: 0px;\n  top: 0px;\n  cursor: nwse-resize;\n"]))),xo=s(bo)(An||(An=t.__makeTemplateObject(["\n  border-width: 2px 2px 0px 0px;\n  left: -16px;\n  top: 0px;\n  cursor: nesw-resize;\n"],["\n  border-width: 2px 2px 0px 0px;\n  left: -16px;\n  top: 0px;\n  cursor: nesw-resize;\n"]))),yo=s(bo)(Pn||(Pn=t.__makeTemplateObject(["\n  border-width: 0px 2px 2px 0px;\n  left: -16px;\n  top: -16px;\n  cursor: nwse-resize;\n"],["\n  border-width: 0px 2px 2px 0px;\n  left: -16px;\n  top: -16px;\n  cursor: nwse-resize;\n"]))),Co=s(bo)(In||(In=t.__makeTemplateObject(["\n  border-width: 0px 0px 2px 2px;\n  top: -16px;\n  left: 0px;\n  cursor: nesw-resize;\n"],["\n  border-width: 0px 0px 2px 2px;\n  top: -16px;\n  left: 0px;\n  cursor: nesw-resize;\n"]))),wo=q("transformTool")(be((function(e){var n=e.transformTool,r=n.leftTop,i=n.leftBottom,a=n.rightTop,s=n.rightBottom,l=n.size,c=l.height,u=l.width,p=n.defaultSize,d=n.defaultPosition,f=t.__assign({},p,{left:d.x,top:d.y}),m={height:c,width:u},h=n.isDragMode?{transition:"unset"}:{};return o.createElement("div",{style:t.__assign({},f,{position:"absolute"})},o.createElement(go,{bounds:"parent",position:r,onStart:function(e,t){var o=t.x,r=t.y;n.setDragMode(!0),n.clickableCanvas(!1),n.changePosition({x:o,y:r})},onDrag:function(e,t){var o=t.x,r=t.y;n.changePosition({x:o,y:r})},onStop:function(e,t){var o=t.x,r=t.y;n.setDragMode(!1),n.changePosition({x:o,y:r}),n.clickableCanvas(!0),n.addSnapshot()}},o.createElement(ho,{style:t.__assign({},m,h)})),o.createElement(mo,{style:t.__assign({left:r.x+u/3,top:r.y,height:c,width:1},h)}),o.createElement(mo,{style:t.__assign({left:r.x+u/3*2,top:r.y,height:c,width:1},h)}),o.createElement(mo,{style:t.__assign({left:r.x,top:r.y+c/3,height:1,width:u},h)}),o.createElement(mo,{style:t.__assign({left:r.x,top:r.y+c/3*2,height:1,width:u},h)}),o.createElement(go,{bounds:"parent",position:t.__assign({},r),onStart:function(e,t){var o=t.x,r=t.y;n.setDragMode(!0),n.clickableCanvas(!1),n.onLeftTop({x:o,y:r})},onDrag:function(e,t){var o=t.x,r=t.y;n.onLeftTop({x:o,y:r})},onStop:function(e,t){var o=t.x,r=t.y;n.setDragMode(!1),n.onLeftTop({x:o,y:r}),n.clickableCanvas(!0),n.addSnapshot()}},o.createElement(vo,{style:h})),o.createElement(go,{bounds:"parent",position:i,onStart:function(e,t){var o=t.x,r=t.y;n.setDragMode(!0),n.clickableCanvas(!1),n.onLeftBottom({x:o,y:r})},onDrag:function(e,t){var o=t.x,r=t.y;n.onLeftBottom({x:o,y:r})},onStop:function(e,t){var o=t.x,r=t.y;n.setDragMode(!1),n.onLeftBottom({x:o,y:r}),n.clickableCanvas(!0),n.addSnapshot()}},o.createElement(Co,{style:h})),o.createElement(go,{bounds:"parent",position:a,onStart:function(e,t){var o=t.x,r=t.y;n.setDragMode(!0),n.clickableCanvas(!1),n.onRightTop({x:o,y:r})},onDrag:function(e,t){var o=t.x,r=t.y;n.onRightTop({x:o,y:r})},onStop:function(e,t){var o=t.x,r=t.y;n.setDragMode(!1),n.onRightTop({x:o,y:r}),n.clickableCanvas(!0),n.addSnapshot()}},o.createElement(xo,{style:h})),o.createElement(go,{bounds:"parent",position:s,onStart:function(e,t){var o=t.x,r=t.y;n.setDragMode(!0),n.clickableCanvas(!1),n.onRightBottom({x:o,y:r})},onDrag:function(e,t){var o=t.x,r=t.y;n.onRightBottom({x:o,y:r})},onStop:function(e,t){var o=t.x,r=t.y;n.setDragMode(!1),n.onRightBottom({x:o,y:r}),n.clickableCanvas(!0),n.addSnapshot()}},o.createElement(yo,{style:h})))}))),To=un.Bar.Index,_o=un.Crop.Backdrop,ko=q("transformTool","canvas","config","scale")(be((function(e){var n=e.transformTool,r=e.canvas,i=e.config,a=e.scale,s=n.leftTop,l=n.leftBottom,c=n.rightTop,u=n.size.height,p=r.canvasSize,d=p.height,f=p.width,m=n.defaultPosition,h=n.isDragMode?{transition:"unset"}:{};return o.createElement(un.Controls.Container,null,o.createElement(_o,{style:t.__assign({left:0,top:0,width:f,height:s.y+m.y},h)}),o.createElement(_o,{style:t.__assign({left:0,top:s.y+m.y,width:m.x+s.x,height:u},h)}),o.createElement(_o,{style:t.__assign({left:c.x+m.x,top:c.y+m.y,width:f-c.x-m.x,height:u},h)}),o.createElement(_o,{style:t.__assign({left:0,top:l.y+m.y,width:f,height:d-l.y-m.y},h)}),o.createElement(wo,null),i.isLayoutAdvanced?o.createElement(To,{transparentBackgound:a.doesBottomOverlap,bottom:!0},o.createElement(lo,null)):null)}))),Eo=s(un.Controls.Container)(Bn||(Bn=t.__makeTemplateObject(["\n  ","\n  z-index: 3;\n"],["\n  ","\n  z-index: 3;\n"])),(function(e){return e.activeCursor?a.css(jn||(jn=t.__makeTemplateObject(["cursor: move;"],["cursor: move;"]))):""})),Oo=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.INITIAL_POSITION={x:void 0,y:void 0},n.state=t.__assign({},n.INITIAL_POSITION,{isDragging:!1}),n.getCursorCoordinates=function(e){var t=0,o=0;if(-1!==e.type.indexOf("touch")){if(!(r=e).touches.length)return n.INITIAL_POSITION;t=r.touches[0].clientX,o=r.touches[0].clientY}else{var r;t=(r=e).clientX,o=r.clientY}var i=n.container.getBoundingClientRect();return{x:t-i.left,y:o-i.top}},n.move=function(e){if(n.scale.canDrag){var t=n.getCursorCoordinates(e),o=t.x,r=t.y;if(void 0!==o&&void 0!==r&&n.state.isDragging){var i={x:n.state.x-o,y:n.state.y-r};n.scale.setOffset(i)}}},n.touchDrag=function(e){if(n.scale.canDrag){var t=n.getCursorCoordinates(e),o=t.x,r=t.y;void 0!==o&&void 0!==r&&n.setState({x:o,y:r,isDragging:!0})}},n.drag=function(e){e.preventDefault(),n.touchDrag(e)},n.stop=function(){n.scale.canDrag&&(n.scale.savePosition(),n.setState(t.__assign({},n.INITIAL_POSITION,{isDragging:!1})))},n.touchEnd=function(e){e.preventDefault(),e.stopPropagation();var o=n.state,r=o.x,i=o.y;r&&i&&n.setState(t.__assign({},n.INITIAL_POSITION,{isDragging:!1}))},n}return t.__extends(n,e),n.prototype.componentDidMount=function(){this.container=document.getElementById("DragImage"),document.addEventListener("mouseup",this.stop,!1),document.addEventListener("touchend",this.stop,{passive:!0})},n.prototype.componentWillUnmount=function(){document.removeEventListener("mouseup",this.stop,!1),document.removeEventListener("touchend",this.stop,!1)},Object.defineProperty(n.prototype,"scale",{get:function(){return this.props.scale},enumerable:!0,configurable:!0}),n.prototype.render=function(){return o.createElement(Eo,{id:"DragImage",onMouseMove:this.move,onTouchMove:this.move,onMouseDown:this.drag,onTouchStart:this.touchDrag,onMouseUp:this.stop,onTouchEnd:this.touchEnd,activeCursor:this.scale.canDrag})},n}(o.Component),So=q("scale")(be(Oo)),Do=s.img(Rn||(Rn=t.__makeTemplateObject(["\n  position: absolute;\n  left: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"],["\n  position: absolute;\n  left: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"]))),Ao=s.img(Mn||(Mn=t.__makeTemplateObject(["\n  position: absolute;\n  right: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"],["\n  position: absolute;\n  right: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"]))),Po=new t.Vector2(0,0),Io=new t.Vector2(0,0),jo=q("sprite")(be((function(e){var n=e.sprite,r=n.leftMidPadPosition,a=n.rightMidPadPosition,s=function(e,o){n.setDragMode(!0),n.clickableCanvas(!1);var i=e.clientX,s=e.clientY;Po=new t.Vector2(i,s),Io=new t.Vector2("left"===o?r:a)},l=function(){n.clickableCanvas(!0),n.setDragMode(!1),n.addSnapshot("edit",n.textDesignLocale.padding),Po=new t.Vector2(0,0),Io=new t.Vector2(0,0)},c=function(e){var o=e.clientX,r=e.clientY;if(void 0!==o&&void 0!==r){var i=Io.subtract(Po.subtract(new t.Vector2(o,r)));n.onPaddingDrag(i)}};return o.createElement(o.Fragment,null,o.createElement(i.Components.Draggable,{onStart:function(e){return s(e,"left")},onDrag:c,onStop:l},o.createElement(Do,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAANJJREFUSA3tlEsKwjAURUv9Vq3gBlyjKxF/c0EQxIEgggjiwP/ILbgU6ykYuLMGeRlp4JJH+3JOEmij6D9C3UCWZTWSBOEDbpM7eZCOqQRgSm7EjZ6ZAGIOvzoycz8kfGAJb7Hbi+x8aA0/C3xkCW8CPgl8bA0/CnzyDTwuWPSS9wmyon5p9ygBNshBTjGlNpfkO9+LZBZCUge6E8mcuuRxCf4tAPOf21YkC+qyP8Gj8yPZiGQZQlIFuhaJ3VftDgm8QlbkSbruuekMOCapKfQ3YW/1Myhh/78bMQAAAABJRU5ErkJggg=="})),o.createElement(i.Components.Draggable,{onStart:function(e){return s(e,"right")},onDrag:c,onStop:l},o.createElement(Ao,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAPhJREFUSA3tlLkKwlAQRYOVnXZ+gEshIiJ+hAgiCBJc8Sf8XgsVFBVLt2g8UwhBMomZtLlwIMxy3uMVcZwsaV/A9/1iWoe6j3wFV+iqQ9YG0hJcQHKDntWl7iHtwPeQO999ddjaQNqGM0geMLC61D2kLTiBRA4ZqsPWBtImHEHyhJHVpe4hbcABJHKIqw5bG0jrsAeJB5MoVy6qqfQ86u9AL/gdKBs+uW0NdiCR248NmvAVZFUIyiOfJtyiVBFXYAuSF0yV0eRlZL/yWXKLsoG8DBuQyM3nymjyMrI8rEEi8kVyS8wGUhfkJ7eMGbW3kRfs29nmHy/wAUVpDIFPWLFFAAAAAElFTkSuQmCC"})))}))),Bo=s(un.Controls.Width)(Uo||(Uo=t.__makeTemplateObject(["\n  cursor: ew-resize;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    display: none;\n  }\n"],["\n  cursor: ew-resize;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    display: none;\n  }\n"]))),Ro=s(Bo)(Fo||(Fo=t.__makeTemplateObject(["\n  left: -3px;\n  top: calc(50% - ","px);\n"],["\n  left: -3px;\n  top: calc(50% - ","px);\n"])),(function(e){return e.theme.measurements.canvas.width.size/2})),Mo=s(Bo)(Wo||(Wo=t.__makeTemplateObject(["\n  right: -3px;\n  top: calc(50% - ","px);\n"],["\n  right: -3px;\n  top: calc(50% - ","px);\n"])),(function(e){return e.theme.measurements.canvas.width.size/2})),Lo=new t.Vector2(0,0),zo=new t.Vector2(0,0);Ro.defaultProps={theme:i.defaultTheme},Mo.defaultProps={theme:i.defaultTheme};var Uo,Fo,Wo,No=q("sprite","textTool")(be((function(e){var n=e.sprite,r=e.textTool,a=n.leftMidPadPosition,s=n.rightMidPadPosition,l=function(e,o){n.setDragMode(!0),n.clickableCanvas(!1);var r=e.clientX,i=e.clientY;Lo=new t.Vector2(r,i),zo=new t.Vector2("left"===o?a:s)},c=function(){n.clickableCanvas(!0),n.setDragMode(!1),n.addSnapshot("edit",n.textLocale.width),n.setDefaultSize(),r.updateDefaultFontSize(),Lo=new t.Vector2(0,0),zo=new t.Vector2(0,0)},u=function(e){var o=e.clientX,r=e.clientY;if(void 0!==o&&void 0!==r){var i=zo.subtract(Lo.subtract(new t.Vector2(o,r)));n.onWidthDrag(i)}};return o.createElement(o.Fragment,null,o.createElement(i.Components.Draggable,{onStart:function(e){return l(e,"left")},onDrag:u,onStop:c},o.createElement(Ro,null)),o.createElement(i.Components.Draggable,{onStart:function(e){return l(e,"right")},onDrag:u,onStop:c},o.createElement(Mo,null)))}))),Vo=q("textTool","sprite","custom")(be((function(e){var n,r=e.textTool,a=e.sprite,s=e.custom,l=r.locale.canvasActions,c=((n={})[t.CanvasAction.EDIT]={key:t.CanvasAction.EDIT,customButtonKey:"canvasActionEdit",onClick:function(){return r.setEditMode(!0)},label:l.buttonEdit,icon:o.createElement(i.TransformIcons.edit,null)},n[t.CanvasAction.BRING_TO_FRONT]={key:t.CanvasAction.BRING_TO_FRONT,customButtonKey:"canvasActionBringToFront",onClick:function(e){e.stopPropagation(),r.bringToFront()},label:l.buttonBringToFront,icon:o.createElement(i.TransformIcons.bringToFront,null)},n[t.CanvasAction.DUPLICATE]={key:t.CanvasAction.DUPLICATE,customButtonKey:"canvasActionDuplicate",onClick:function(){return r.duplicate()},label:l.buttonDuplicate,icon:o.createElement(i.TransformIcons.duplicate,null)},n[t.CanvasAction.DELETE]={key:t.CanvasAction.DELETE,customButtonKey:"canvasActionDelete",onClick:function(e){e.stopPropagation(),r.delete()},label:l.buttonDelete,icon:o.createElement(i.TransformIcons.delete,null)},n),u=r.config.canvasActions.map((function(e){return c[e]?function(e){var t=e.key,n=e.customButtonKey,r=e.onClick,i=e.label,a=e.icon,l=o.createElement(un.Controls.SpriteActionButton,{ariaLabel:i,key:t,onClick:r,icon:a,showIconOnlyOnMobile:!0},i);return s.getButton(n)({key:t,label:i,onClick:r,icon:a})||l}(c[e]):null}));return a.isSpriteText?o.createElement(un.Bar.ButtonGroup,null,u):null}))),Ko=q("stickerTool","custom")(be((function(e){var n,r=e.stickerTool,a=e.custom,s=r.locale.canvasActions,l=((n={})[t.CanvasAction.BRING_TO_FRONT]={key:t.CanvasAction.BRING_TO_FRONT,customButtonKey:"canvasActionBringToFront",onClick:function(e){e.stopPropagation(),r.bringToFront()},label:s.buttonBringToFront,icon:o.createElement(i.TransformIcons.bringToFront,null)},n[t.CanvasAction.FLIP]={key:t.CanvasAction.FLIP,customButtonKey:"canvasActionFlip",onClick:function(e){e.stopPropagation(),r.flipHorizontally()},label:s.buttonFlipHorizontal,icon:o.createElement(i.TransformIcons.flipHorizontal,null)},n[t.CanvasAction.DUPLICATE]={key:t.CanvasAction.DUPLICATE,customButtonKey:"canvasActionDuplicate",onClick:function(){return r.duplicate()},label:s.buttonDuplicate,icon:o.createElement(i.TransformIcons.duplicate,null)},n[t.CanvasAction.DELETE]={key:t.CanvasAction.DELETE,customButtonKey:"canvasActionDelete",onClick:function(e){e.stopPropagation(),r.delete()},label:s.buttonDelete,icon:o.createElement(i.TransformIcons.delete,null)},n),c=r.config.canvasActions.map((function(e){return l[e]?function(e){var t=e.key,n=e.customButtonKey,r=e.onClick,i=e.label,s=e.icon,l=o.createElement(un.Controls.SpriteActionButton,{ariaLabel:i,key:t,onClick:r,icon:s,showIconOnlyOnMobile:!0},i);return a.getButton(n)({key:t,label:i,onClick:r,icon:s})||l}(l[e]):null}));return r.isStickerSelected?o.createElement(un.Bar.ButtonGroup,null,c):null}))),Ho=q("textDesignTool","custom")(be((function(e){var n,r=e.textDesignTool,a=e.custom,s=r.locale.canvasActions,l=((n={})[t.CanvasAction.EDIT]={key:t.CanvasAction.EDIT,customButtonKey:"canvasActionEdit",onClick:function(){return r.setEditMode(!0)},label:s.buttonEdit,icon:o.createElement(i.TransformIcons.edit,null)},n[t.CanvasAction.BRING_TO_FRONT]={key:t.CanvasAction.BRING_TO_FRONT,customButtonKey:"canvasActionBringToFront",onClick:function(e){e.stopPropagation(),r.bringToFront()},label:s.buttonBringToFront,icon:o.createElement(i.TransformIcons.bringToFront,null)},n[t.CanvasAction.INVERT]={key:t.CanvasAction.INVERT,customButtonKey:"canvasActionInvert",onClick:function(e){e.stopPropagation(),r.invertBackground()},label:s.buttonInvert,icon:o.createElement(i.TransformIcons.flipHorizontal,null)},n[t.CanvasAction.DUPLICATE]={key:t.CanvasAction.DUPLICATE,customButtonKey:"canvasActionDuplicate",onClick:function(){return r.duplicate()},label:s.buttonDuplicate,icon:o.createElement(i.TransformIcons.duplicate,null)},n[t.CanvasAction.DELETE]={key:t.CanvasAction.DELETE,customButtonKey:"canvasActionDelete",onClick:function(e){e.stopPropagation(),r.delete()},label:s.buttonDelete,icon:o.createElement(i.TransformIcons.delete,null)},n),c=r.config.canvasActions.map((function(e){return l[e]?function(e){var t=e.key,n=e.customButtonKey,r=e.onClick,i=e.label,s=e.icon,l=o.createElement(un.Controls.SpriteActionButton,{ariaLabel:i,key:t,onClick:r,icon:s,showIconOnlyOnMobile:!0},i);return a.getButton(n)({key:t,label:i,onClick:r,icon:s})||l}(l[e]):null}));return r.isTextDesignSelected?o.createElement(un.Bar.ButtonGroup,null,c):null}))),Go=i.measurements.canvas.sprite.controlOffset,Xo=i.measurements.canvas.sprite.rotateHandle.height,$o=i.measurements.canvas.bar.height,Yo=i.measurements.canvas.sprite.controlPadding,qo=function(e){function n(n){var r=e.call(this,n)||this;return r.actionsRef=null,r.spriteControlPosition=function(){var e=r.props.sprite.size.height,t=r.props.sprite.position,n=r.props.sprite.rotationWRTOutputRotation,o=r.actionsRef.current,i=r.props.spriteRef.current,a=document.getElementById("CanvasContainer");if(o&&i&&a){var s=i.getBoundingClientRect(),l=o.getBoundingClientRect(),c=a.getBoundingClientRect(),u={top:s.top-c.top,left:s.left-c.left,right:c.right-s.right,bottom:c.bottom-s.bottom},p=Math.abs(s.left-s.right),d=Math.abs(s.top-s.bottom),f=Go,m=Go,h=Go+$o+l.height,b=u.left<f,g=u.right<m,v=u.top<h,x=u.left+p/2,y={x:x,y:u.top-Go},C={x:-50,y:-100};v&&(y.y=u.top+d+Go+Xo,C.y=0),b&&(y.x=f,C.x=0),g&&(y.x=c.width-Go,C.x=-100);var w=u.left<Go&&u.right>c.width-Go,T=v&&u.bottom>c.height;if(w&&(y.x=x),T&&(y.y=u.top+d/2),v||b||g||w||T||n)return{transform:"translate("+C.x+"%, "+C.y+"%)",left:y.x+"px",top:y.y-Yo/2+"px"}}return{left:t.x+"px",top:t.y-Go-e/2-Yo/2+"px"}},r.getSpriteControls=function(){switch(r.props.sprite.tool){case t.Tool.TEXT:return o.createElement(Vo,null);case t.Tool.TEXT_DESIGN:return o.createElement(Ho,null);case t.Tool.STICKER:return o.createElement(Ko,null)}return null},r.actionsRef=o.createRef(),r}return t.__extends(n,e),n.prototype.render=function(){var e=this.props.sprite,t=!e.isDragMode&&!e.isEditMode;if(e.isSpriteSelected){var n=this.spriteControlPosition();return o.createElement(un.Controls.SpriteActionsWrapper,{ref:this.actionsRef,show:t,style:n},this.getSpriteControls())}return null},n}(o.Component),Zo=q("sprite","config")(be(qo)),Jo=s(un.Controls.Knob)(tr||(tr=t.__makeTemplateObject(["\n  margin-left: -11px;\n  margin-top: 0px;\n  &:before {\n    top: unset;\n    bottom: 0px;\n    left: calc(50% - ","px);\n  }\n"],["\n  margin-left: -11px;\n  margin-top: 0px;\n  &:before {\n    top: unset;\n    bottom: 0px;\n    left: calc(50% - ","px);\n  }\n"])),(function(e){return e.theme.measurements.canvas.knob.size/2})),Qo=new t.Vector2(0,0),er=new t.Vector2(0,0);Jo.defaultProps={theme:i.defaultTheme};var tr,nr,or=q("sprite","snapping","editor")(be((function(e){var n=e.sprite,r=e.snapping,a=n.rightBottomHandlePosition,s=n.leftBottomHandlePosition,l={x:(a.x+s.x)/2,y:(a.y+s.y)/2},c=function(e){var o=e.clientX,i=e.clientY;if(void 0!==o&&void 0!==i){var a=er.subtract(Qo.subtract(new t.Vector2(o,i))),s=n.position,l=new t.Vector2(s.x,s.y),c=a.subtract(l),u=Math.atan2(c.y,c.x)-Math.PI/2,p=r.snapToRotation(u,c,n.currentRect);n.setRotation(p)}};return o.createElement(i.Components.Draggable,{onStart:function(e){var o=e.clientX,r=e.clientY;Qo=new t.Vector2(o,r),er=new t.Vector2(l),n.setDragMode(!0),n.clickableCanvas(!1)},onDrag:function(e){c(e)},onStop:function(){n.clickableCanvas(!0),n.setDragMode(!1),n.spriteSnapshot("rotation"),r.hideRotationGuides(),Qo=new t.Vector2(0,0),er=new t.Vector2(0,0)}},o.createElement(Jo,null))}))),rr=un.Controls.Corner,ir=i.Components.Draggable,ar=i.measurements.canvas.corner.borderWidth,sr=new t.Vector2(0,0),lr=new t.Vector2(0,0),cr=q("sprite")(be((function(e){var n=e.sprite,r=n.leftTopPosition,i=n.leftBottomPosition,a=n.rightTopPosition,s=n.rightBottomPosition,l=function(e){var o=e.clientX,r=e.clientY;if(void 0!==o&&void 0!==r){var i=lr.subtract(sr.subtract(new t.Vector2(o,r)));n.onCornerDrag(i)}},c=function(e,o){var l=e.clientX,c=e.clientY;sr=new t.Vector2(l,c),lr=new t.Vector2(function(e){switch(e){case"leftTop":return r;case"leftBottom":return i;case"rightTop":return a;case"rightBottom":return s}}(o)),n.clickableCanvas(!1),n.setDragMode(!0)},u=function(e){n.clickableCanvas(!0),n.setDragMode(!1),n.spriteSnapshot("size"),sr=new t.Vector2(0,0),lr=new t.Vector2(0,0)};return o.createElement(o.Fragment,null,o.createElement(ir,{onStop:u,onDrag:l,onStart:function(e){return c(e,"leftTop")}},o.createElement(rr,{vertical:"top",horizontal:"left",borderWidth:ar})),o.createElement(ir,{onStop:u,onDrag:l,onStart:function(e){return c(e,"leftBottom")}},o.createElement(rr,{vertical:"bottom",horizontal:"left",borderWidth:ar})),o.createElement(ir,{onStop:u,onDrag:l,onStart:function(e){return c(e,"rightTop")}},o.createElement(rr,{vertical:"top",horizontal:"right",borderWidth:ar})),o.createElement(ir,{onStop:u,onDrag:l,onStart:function(e){return c(e,"rightBottom")}},o.createElement(rr,{vertical:"bottom",horizontal:"right",borderWidth:ar})))}))),ur=i.measurements.canvas.sprite.controlPadding,pr=i.Components.Draggable,dr=new t.Vector2(0,0),fr=new t.Vector2(0,0),mr=function(e){function n(n){var r=e.call(this,n)||this;return r.spriteRef=null,r.onAreaDrag=function(e){var n=e.clientX,o=e.clientY,i=r.props.snapping,a=fr.subtract(dr.subtract(new t.Vector2(n,o))),s=i.snapToPosition({x:a.x,y:a.y},r.sprite.currentRect),l=s.x,c=s.y;r.sprite.setPosition({x:l,y:c})},r.onAreaDragStart=function(e){var n=r.props.snapping,o=e.clientX,i=e.clientY;dr=new t.Vector2(o,i),fr=new t.Vector2(r.sprite.position),r.sprite.setDragMode(!0),n.updateGuides()},r.onAreaDragStop=function(){var e=r.props.snapping;dr=new t.Vector2(0,0),fr=new t.Vector2(0,0),r.sprite.setDragMode(!1),r.sprite.spriteSnapshot("position"),e.hidePositionGuides()},r.onDoubleClick=function(e){e.preventDefault(),e.stopPropagation(),r.sprite.setEditMode(!0)},r.isSpriteSelected=function(){var e=r.props.active.tool,t=r.sprite.tool;return r.sprite.isSpriteSelected&&e===t},r.spriteRef=o.createRef(),r}return t.__extends(n,e),Object.defineProperty(n.prototype,"sprite",{get:function(){return this.props.sprite},enumerable:!0,configurable:!0}),n.prototype.render=function(){var e=this.props.sprite;if(!this.isSpriteSelected())return null;var t=this.sprite.isSpriteText,n=this.sprite.isSpriteTextDesign&&this.sprite.textDesignToolStore.isInverted,r=e.size,i=r.height,a=r.width,s=e.spritePosition,l=e.rotationWRTOutputRotation;return o.createElement(un.Controls.Container,null,o.createElement(pr,{onStart:this.onAreaDragStart,onDrag:this.onAreaDrag,onStop:this.onAreaDragStop,rotation:l,position:s},o.createElement(un.Controls.Sprite,{ref:this.spriteRef,onDoubleClick:this.onDoubleClick,height:i,width:a},t&&o.createElement(No,null)||null,n&&o.createElement(jo,null)||null,o.createElement(cr,null),o.createElement(un.Controls.RotateHandle,{x:a/2+ur/2},o.createElement(or,null)))),o.createElement(Zo,{spriteRef:this.spriteRef}))},n}(o.Component),hr=q("sprite","active","snapping")(be(mr)),br=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getControls=function(e){switch(n.props.active.tool){case t.Tool.FOCUS:return o.createElement(Yn,null);case t.Tool.TEXT:case t.Tool.TEXT_DESIGN:case t.Tool.STICKER:return o.createElement(hr,null);case t.Tool.BRUSH:return o.createElement(Qn,null);case t.Tool.TRANSFORM:return o.createElement(ko,null);default:return o.createElement(un.Controls.Container,null,e)}},n.canvasClicked=function(e){if(e.preventDefault(),e.stopPropagation(),n.props.canvas.isCanvasClickable){var t=e.clientX,o=e.clientY;if(-1!==e.type.indexOf("touch")){var r=e;if(!r.touches.length)return;t=r.touches[0].clientX,o=r.touches[0].clientY}var i=n.containerElement.getBoundingClientRect(),a=t-i.left,s=o-i.top;n.props.canvas.getContainersAtPreviewPoint({x:a,y:s})}},n.onKeyDown=function(e){"Tab"===e.code&&n.props.sprite.selectLast()},n}return t.__extends(n,e),n.prototype.componentDidMount=function(){this.containerElement=document.getElementById("CanvasContainerClick")},n.prototype.render=function(){var e=this.props.canvas.canvasSize,n={height:e.height,width:e.width};return o.createElement(un.Controls.Wrapper,t.__assign({"aria-hidden":!0,id:"CanvasContainerClick",onClick:this.canvasClicked,onKeyDown:this.onKeyDown},n),this.getControls(o.createElement(So,null)))},n}(o.Component),gr=q("active","canvas","sprite")(be(br)),vr=s.div(nr||(nr=t.__makeTemplateObject(["\n    display: ",";\n    position: absolute;\n    z-index: 7;\n"],["\n    display: ",";\n    position: absolute;\n    z-index: 7;\n"])),(function(e){return e.isVisible?"block":"none"})),xr=function(e){var t=e.isVisible,n=e.className;return o.createElement(vr,{isVisible:t,className:n})};xr.defaultProps={direction:"horizontal",left:0,top:0};var yr,Cr,wr,Tr,_r,kr,Er=s(xr)(wr||(wr=t.__makeTemplateObject(["\n  background: #f0f;\n  ","\n"],["\n  background: #f0f;\n  ","\n"])),(function(e){return"horizontal"===e.direction?a.css(yr||(yr=t.__makeTemplateObject(["\n        width: 100%;\n        height: 2px;\n        top: ","px;\n      "],["\n        width: 100%;\n        height: 2px;\n        top: ","px;\n      "])),(function(){return e.position})):a.css(Cr||(Cr=t.__makeTemplateObject(["\n      width: 2px;\n      height: 100%;\n      left: ","px;\n    "],["\n      width: 2px;\n      height: 100%;\n      left: ","px;\n    "])),(function(){return e.position}))})),Or=s(xr)(Tr||(Tr=t.__makeTemplateObject(["\n  border: none;\n  border-top: 2px dashed #0ff;\n  background: transparent;\n  left: ","px;\n  top: ","px;\n  transform: rotate(","rad);\n  width: 200%;\n"],["\n  border: none;\n  border-top: 2px dashed #0ff;\n  background: transparent;\n  left: ","px;\n  top: ","px;\n  transform: rotate(","rad);\n  width: 200%;\n"])),(function(e){return e.position.x}),(function(e){return e.position.y}),(function(e){return e.rotation})),Sr=s.div(_r||(_r=t.__makeTemplateObject(["\n  position: relative;\n  width: ","px;\n  height: ","px;\n  overflow: hidden;\n"],["\n  position: relative;\n  width: ","px;\n  height: ","px;\n  overflow: hidden;\n"])),(function(e){return e.width}),(function(e){return e.height})),Dr=q("snapping","editor")(be((function(e){var t=e.snapping,n=e.editor.getPreviewSize(),r=n.width,i=n.height,a=t.positionGuides.map((function(e,t){var n=e.direction,r=e.value,i=e.isVisible;return o.createElement(Er,{key:"positionGuide-"+t,direction:n,position:r,isVisible:i})})),s=t.rotationGuides.find((function(e){return e.isVisible}));return o.createElement(Sr,{width:r,height:i},a,o.createElement(Or,{key:"rotationGuide",rotation:s?s.value:0,position:s?s.position:{x:0,y:0},isVisible:!!s}))}))),Ar=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(n,e),n.prototype.componentDidMount=function(){var e=document.getElementById("PreviewCanvas");this.props.canvas.setCanvasElement(e)},n.prototype.render=function(){return o.createElement(zn,null,this.props.active.isWebcam?o.createElement(mn,null):null,o.createElement(un.Element,{"aria-label":"Canvas",id:"PreviewCanvas"}),o.createElement(Dr,null),o.createElement(gr,null))},n}(o.Component),Pr=q("active","canvas")(be(Ar)),Ir=un.Button.Tertiary,jr=s.span(kr||(kr=t.__makeTemplateObject(["\n  font-size: 14px;\n  padding: 3px 1px 2px;\n  color: ",";\n"],["\n  font-size: 14px;\n  padding: 3px 1px 2px;\n  color: ",";\n"])),(function(e){return e.theme.button.hoverForeground})),Br=q("scale","active")(be((function(e){var n=e.scale,r=e.active,i=n.canZoomIn,a=n.canZoomOut,s=n.zoomLevel;return-1!==[t.Tool.TRANSFORM,t.Tool.BRUSH,t.Tool.FOCUS,t.Tool.STICKER,t.Tool.TEXT,t.Tool.TEXT_DESIGN].indexOf(r.tool)?null:o.createElement(un.Bar.ButtonGroup,null,o.createElement(Ir,{ariaLabel:"Zoom out",isDisabled:!a,onClick:n.out},"-"),o.createElement(jr,null,s," %"),o.createElement(Ir,{ariaLabel:"Zoom in",isDisabled:!i,onClick:n.in},"+"))})));jr.defaultProps={theme:i.defaultTheme};var Rr,Mr,Lr,zr,Ur=un.Button.Tertiary,Fr=un.Button.Primary,Wr=un.Button.Secondary,Nr=q("scale","config","editor","history","custom")(be((function(e){var n=e.scale,r=e.config,a=e.editor,s=e.history,l=e.custom,c=r.locale.mainCanvasActions,u=s.canUndo,p=s.canRedo,d=(r.config.export,r.config.mainCanvasActions),f=function(){a.export()},m=function(){a.close()},h=function(){var e=o.createElement(i.EditorIcons.undo,null),t=o.createElement(Ur,{ariaLabel:c.buttonUndo,onClick:s.undo,isDisabled:!u,icon:e,showIconOnlyOnMobile:!0},c.buttonUndo);return l.getButton("canvasUndo")({key:"canvasUndo",onClick:s.undo,isDisabled:!u,label:c.buttonUndo,icon:e})||t},b=function(){var e=o.createElement(i.EditorIcons.redo,null),t=o.createElement(Ur,{ariaLabel:c.buttonRedo,onClick:s.redo,isDisabled:!p,icon:e,showIconOnlyOnMobile:!0},c.buttonRedo);return l.getButton("canvasRedo")({key:"canvasRedo",onClick:s.redo,isDisabled:!p,label:c.buttonRedo,icon:e})||t},g=function(){var e=o.createElement(i.EditorIcons.export,null),t=o.createElement(Fr,{ariaLabel:c.buttonExport,onClick:f,icon:e,showIconOnlyOnMobile:!0},c.buttonExport);return l.getButton("canvasExport")({key:"canvasExport",onClick:f,label:c.buttonExport,icon:e})||t},v=function(){if(!r.displayCloseButton)return null;var e=o.createElement(i.EditorIcons.close,null),t=o.createElement(Wr,{ariaLabel:c.buttonClose,onClick:m,icon:e,showIconOnlyOnMobile:!0},c.buttonClose);return l.getButton("canvasClose")({key:"canvasClose",onClick:m,label:c.buttonClose,icon:e})||t},x=d.map((function(e){switch(e){case t.CanvasAction.UNDO:return h;case t.CanvasAction.REDO:return b;case t.CanvasAction.EXPORT:return g;case t.CanvasAction.CLOSE:return v}return null}));return o.createElement(un.Bar.Index,{transparentBackgound:n.doesTopOverlap},o.createElement(un.Bar.ButtonGroup,null,x[0]&&x[0]()||null,x[1]&&x[1]()||null),r.config.enableZoom?o.createElement(Br,null):null,o.createElement(un.Bar.ButtonGroup,null,x[2]&&x[2]()||null,x[3]&&x[3]()||null))}))),Vr=s.div(Rr||(Rr=t.__makeTemplateObject(["\n  display: inline-flex;\n  justify-content: space-between;\n  max-width: ","px;\n"],["\n  display: inline-flex;\n  justify-content: space-between;\n  max-width: ","px;\n"])),(function(e){return e.theme.measurements.advanced.toolControlBar.width})),Kr=s.span(Mr||(Mr=t.__makeTemplateObject(["\n  font-size: ","px;\n  margin-top: 10px;\n  margin-right: 13px;\n"],["\n  font-size: ","px;\n  margin-top: 10px;\n  margin-right: 13px;\n"])),i.Components.Common.FontSize.Label2),Hr=s(i.Components.Input.Label)(Lr||(Lr=t.__makeTemplateObject(["\n  position: absolute;\n  right: 8px;\n  top: 8px;\n"],["\n  position: absolute;\n  right: 8px;\n  top: 8px;\n"]))),Gr=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.onWidthChange=function(e){t.props.onChangeWidth(parseInt(e,10)||0)},t.onHeightChange=function(e){t.props.onChangeHeight(parseInt(e,10)||0)},t.onKeyUpWidth=function(e){13===e.keyCode&&t.props.onBlurWidth()},t.onKeyUpHeight=function(e){13===e.keyCode&&t.props.onBlurHeight()},t.onBlurHeight=function(){t.props.onBlurHeight()},t.onBlurWidth=function(){t.props.onBlurWidth()},t}return t.__extends(n,e),n.prototype.render=function(){var e=this.props,t=e.label,n=e.showLabel,r=e.isDisabled,a=e.labelWidth,s=e.labelHeight,l=e.valueWidth,c=e.valueHeight;return o.createElement("div",null,o.createElement(i.Components.Input.Label,{name:t,show:n}),o.createElement(Vr,null,o.createElement(i.Components.Input.Text,{id:a.replace(" ","-"),value:l,isDisabled:r,onChange:this.onWidthChange,onBlur:this.onBlurWidth,onKeyUp:this.onKeyUpWidth},o.createElement(Hr,{name:a,htmlFor:a.replace(" ","-")})),o.createElement(Kr,null,"x"),o.createElement(i.Components.Input.Text,{id:s.replace(" ","-"),value:c,isDisabled:r,onChange:this.onHeightChange,onBlur:this.onBlurHeight,onKeyUp:this.onKeyUpHeight},o.createElement(Hr,{name:s,htmlFor:s.replace(" ","-")}))))},n.defaultProps={showLabel:!0},n}(o.Component),Xr=q("textTool","textDesignTool","modal","custom")(be((function(e){var n=e.modal,r=e.textTool,a=e.textDesignTool,s=e.custom,l=n.type,c=n.positionOffset;switch(l){case i.ModalType.INFO:var u=n.infoModalProps;if("loading"===n.identifier)return s.getLoader(t.__assign({},u,{position:c}));var p=n.infoModalProps;return o.createElement(i.Components.Loader,t.__assign({},p,{position:c}));case i.ModalType.TEXT_EDIT:if(r.isTextSelected)return o.createElement(i.Components.Input.TextEdit,{defaultText:r.defaultText,show:n.show,save:r.changeText,close:r.setEditMode,text:r.text,position:c,saveLabel:r.locale.canvasControls.buttonSave,closeLabel:r.locale.canvasControls.buttonClose,editLabel:r.locale.canvasControls.inputText});if(a.isTextDesignSelected)return o.createElement(i.Components.Input.TextEdit,{defaultText:a.defaultText,show:n.show,save:a.changeText,close:a.setEditMode,text:a.text,position:c,saveLabel:r.locale.canvasControls.buttonSave,closeLabel:r.locale.canvasControls.buttonClose,editLabel:r.locale.canvasControls.inputText});default:var d=n.modalProps;return o.createElement(i.Components.Modal,t.__assign({},d,{position:c}))}}))),$r=function(e,n){var r=this;this.getCategoryCard=function(e){return r.CategoryCard?r.customCategoryCard(e):r.currentCard(e)},this.getOptionCard=function(e){return r.OptionCard?r.customOptionCard(e):r.currentCard(e)},this.getToolbarItem=function(e){return r.ToolbarItem?r.customToolbarItem(e):r.currentToolbarItem(e)},this.getLoader=function(e){return r.Loader?r.customLoader(e):r.loader(e)},this.getButton=function(e){return function(t){return r.Buttons&&r.Buttons[e]?r.customButton(e)(t):null}},this.customLoader=function(e){var t=e.show,n=r.Loader;return o.createElement(n,{show:t})},this.customCategoryCard=function(e){var n={image:e.image,label:e.label,isActive:e.isActive,onClick:e.onClick,key:e.key},i=r.CategoryCard;return o.createElement(i,t.__assign({},n))},this.customOptionCard=function(e){var n={image:e.image,label:e.label,isActive:e.isActive,onClick:e.onClick,key:e.key},i=r.OptionCard;return o.createElement(i,t.__assign({},n))},this.customToolbarItem=function(e){var n={key:e.key,icon:e.icon,label:e.label,onClick:e.onClick,isActive:e.isActive},i=r.ToolbarItem;return o.createElement(i,t.__assign({},n))},this.customButton=function(e){return function(n){var i={key:n.key,icon:n.icon,label:n.label,onClick:n.onClick,isDisabled:n.isDisabled},a=r.Buttons[e];return o.createElement(a,t.__assign({},i))}},this.loader=function(e){var n=r.originalComponents.loader;return o.createElement(n,t.__assign({},e))},this.currentCard=function(e){var n=r.originalComponents.card,i=(e.label,e.key),a=t.__rest(e,["label","key"]);return n?o.createElement(n,t.__assign({key:i},a)):null},this.currentToolbarItem=function(e){var n=r.originalComponents.toolbarItem,i=e.key,a=t.__rest(e,["key"]);return n?o.createElement(n,t.__assign({key:i},a)):null},this.originalComponents=n,this.CategoryCard=e&&e.categoryCard?e.categoryCard:null,this.OptionCard=e&&e.itemCard?e.itemCard:null,this.ToolbarItem=e&&e.toolbarItem?e.toolbarItem:null,this.Loader=e&&e.loader?e.loader:null,this.Buttons=e&&e.buttons?e.buttons:null},Yr=i.measurements.shared.color.colorPicker.width,qr=s.div(zr||(zr=t.__makeTemplateObject(["\n  position: relative;\n"],["\n  position: relative;\n"]))),Zr=function(e){function n(n){var r=e.call(this,n)||this;r.onClick=function(e){return function(t){var n=r.props,o=n.activeColor,i=n.onAddSnapshot,a=r.state,s=a.showColorPicker,l=a.colorList,c=l.find((function(t){return t.identifier===e}));if(o!==c.identifier||s)s?r.setState({showColorPicker:!1}):(r.onChange(e)(c),i&&i());else{var u=l.findIndex((function(t){return t.identifier===e}));new Promise((function(e){e(require("./index-325a7ad8.js"))})).then((function(e){var t=e.ColorPicker;r.UIComponent=t,r.forceUpdate()}));var p=t.currentTarget.getBoundingClientRect(),d=p.left,f=p.width,m=t.currentTarget.parentElement.getBoundingClientRect(),h=m.left,b=m.width,g=d-h-f/2+(Yr-b)/2-1;r.setState({showColorPicker:!0,activeColorName:l[u].identifier,arrowOffset:g})}}},r.onChange=function(e){return function(n){var o=n.color,i=n.colorString,a=r.props.onChange,s=r.state.colorList,l=s.findIndex((function(t){return t.identifier===e})),c=t.__spread(s);c[l]={identifier:s[l].identifier,colorString:i,color:o},r.setState({colorList:c}),a(o,s[l].identifier)}},r.onChangeColorPicker=function(e){var t=e.color,n=e.colorString,o=r.state.activeColorName;r.onChange(o)({color:[t[0]/255,t[1]/255,t[2]/255,t[3]],colorString:n})},r.closeColorPicker=function(){r.setState({showColorPicker:!1})},r.getColorPicker=function(){var e=r.props,t=e.activeColor,n=e.labelsColor,i=e.colorPickerDirection,a=e.onAddSnapshot,s=r.state,l=s.showColorPicker,c=s.arrowOffset,u=s.colorList;if(!r.UIComponent)return null;var p=r.UIComponent,d=u.filter((function(e){return e.identifier===t}))[0].colorString;return o.createElement(p,{color:d,show:l,direction:i,arrowOffset:c,labelHex:n.hex,labelR:n.r,labelG:n.g,labelB:n.b,labelSliderOpacity:n.sliderOpacity,labelSliderHue:n.sliderHue,onChange:r.onChangeColorPicker,onRequestClose:r.closeColorPicker,onAddSnapshot:a})};var i=r.props.colors;return r.state={activeColorName:"",colorList:t.__spread(i),showColorPicker:!1,arrowOffset:0},r.UIComponent=null,r}return t.__extends(n,e),n.prototype.render=function(){var e=this,t=this.props,n=t.activeColor,r=t.isDisabled,a=this.state.colorList.map((function(t,a){return o.createElement(i.Components.ColorItem,{key:t.colorString+"-item-"+a,isActive:t.identifier===n,isDisabled:r,onClick:e.onClick(t.identifier),color:t.colorString,label:t.identifier})}));return o.createElement(qr,null,a,this.getColorPicker())},n.defaultProps={colorPickerDirection:"bottom",isDisabled:!1},n}(o.Component);exports.Button=Jt,exports.ButtonGroup=nn,exports.CanvasArea=je,exports.CanvasBar=Nr,exports.CanvasContainer=Pr,exports.ColorList=Zr,exports.CustomComponentsFactory=$r,exports.FlipRotateControls=lo,exports.Modal=Xr,exports.Provider=Te,exports.TransformScaleInput=Gr,exports.inject=q,exports.observer=be;
