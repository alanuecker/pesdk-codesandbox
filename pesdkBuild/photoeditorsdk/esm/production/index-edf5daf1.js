import{y as t,s as n,V as e,q as o,k as r,C as i,T as a,j as s,i as l}from"./index-25728f3f.js";import c,{forwardRef as u,Component as p,PureComponent as d,createElement as f,Children as h}from"react";import{unstable_batchedUpdates as m,findDOMNode as g}from"react-dom";import{s as b,c as v,g as x,u as y,R as w,i as C,b as E,e as S,$ as k,f as T,h as D,j as P,m as A,C as O,k as I,T as B,l as R,M}from"./index-6865d54e.js";import L,{css as z}from"styled-components";
/** @license mobx-react v5.4.4
 * index.module.js
 *
 * Copyright (c) 2015 Michel Weststrate.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function U(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function W(t,n,e){return n&&U(t.prototype,n),e&&U(t,e),t}function F(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function N(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&H(t,n)}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function H(t,n){return(H=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function G(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function X(t,n){return t(n={exports:{}},n.exports),n.exports}var V,$=X((function(t,n){Object.defineProperty(n,"__esModule",{value:!0});var e="function"==typeof Symbol&&Symbol.for,o=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,i=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,l=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,p=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,h=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116;function g(t){if("object"==typeof t&&null!==t){var n=t.$$typeof;switch(n){case o:switch(t=t.type){case u:case p:case i:case s:case a:return t;default:switch(t=t&&t.$$typeof){case c:case d:case l:return t;default:return n}}case r:return n}}}function b(t){return g(t)===p}n.typeOf=g,n.AsyncMode=u,n.ConcurrentMode=p,n.ContextConsumer=c,n.ContextProvider=l,n.Element=o,n.ForwardRef=d,n.Fragment=i,n.Profiler=s,n.Portal=r,n.StrictMode=a,n.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===i||t===p||t===s||t===a||t===f||"object"==typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===h||t.$$typeof===l||t.$$typeof===c||t.$$typeof===d)},n.isAsyncMode=function(t){return b(t)||g(t)===u},n.isConcurrentMode=b,n.isContextConsumer=function(t){return g(t)===c},n.isContextProvider=function(t){return g(t)===l},n.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===o},n.isForwardRef=function(t){return g(t)===d},n.isFragment=function(t){return g(t)===i},n.isProfiler=function(t){return g(t)===s},n.isPortal=function(t){return g(t)===r},n.isStrictMode=function(t){return g(t)===a}}));(V=$)&&V.__esModule&&Object.prototype.hasOwnProperty.call(V,"default")&&V.default;$.typeOf,$.AsyncMode,$.ConcurrentMode,$.ContextConsumer,$.ContextProvider,$.Element,$.ForwardRef,$.Fragment,$.Profiler,$.Portal,$.StrictMode,$.isValidElementType,$.isAsyncMode,$.isConcurrentMode,$.isContextConsumer,$.isContextProvider,$.isElement,$.isForwardRef,$.isFragment,$.isProfiler,$.isPortal,$.isStrictMode;var Y=X((function(t){t.exports=$})),Z={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},J={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Q={};Q[Y.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var q=Object.defineProperty,tt=Object.getOwnPropertyNames,nt=Object.getOwnPropertySymbols,et=Object.getOwnPropertyDescriptor,ot=Object.getPrototypeOf,rt=Object.prototype;var it=function t(n,e,o){if("string"!=typeof e){if(rt){var r=ot(e);r&&r!==rt&&t(n,r,o)}var i=tt(e);nt&&(i=i.concat(nt(e)));for(var a=Q[n.$$typeof]||Z,s=Q[e.$$typeof]||Z,l=0;l<i.length;++l){var c=i[l];if(!(J[c]||o&&o[c]||s&&s[c]||a&&a[c])){var u=et(e,c);try{q(n,c,u)}catch(t){}}}return n}return n},at=function(){function t(){j(this,t),this.listeners=[]}return W(t,[{key:"on",value:function(t){var n=this;return this.listeners.push(t),function(){var e=n.listeners.indexOf(t);-1!==e&&n.listeners.splice(e,1)}}},{key:"emit",value:function(t){this.listeners.forEach((function(n){return n(t)}))}}]),t}();function st(t){function n(n,e,o,r,i,a){for(var s=arguments.length,l=new Array(s>6?s-6:0),c=6;c<s;c++)l[c-6]=arguments[c];return y((function(){if(r=r||"<<anonymous>>",a=a||o,null==e[o]){if(n){var s=null===e[o]?"null":"undefined";return new Error("The "+i+" `"+a+"` is marked as required in `"+r+"`, but its value is `"+s+"`.")}return null}return t.apply(void 0,[e,o,r,i,a].concat(l))}))}var e=n.bind(null,!1);return e.isRequired=n.bind(null,!0),e}function lt(t){var n=_(t);return Array.isArray(t)?"array":t instanceof RegExp?"object":function(t,n){return"symbol"===t||("Symbol"===n["@@toStringTag"]||"function"==typeof Symbol&&n instanceof Symbol)}(n,t)?"symbol":n}function ct(t,n){return st((function(e,o,r,i,a){return y((function(){if(t&&lt(e[o])===n.toLowerCase())return null;var i;switch(n){case"Array":i=S;break;case"Object":i=E;break;case"Map":i=C;break;default:throw new Error("Unexpected mobxType: ".concat(n))}var s=e[o];if(!i(s)){var l=function(t){var n=lt(t);if("object"===n){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return n}(s),c=t?" or javascript `"+n.toLowerCase()+"`":"";return new Error("Invalid prop `"+a+"` of type `"+l+"` supplied to `"+r+"`, expected `mobx.Observable"+n+"`"+c+".")}return null}))}))}function ut(t,n){return st((function(e,o,r,i,a){for(var s=arguments.length,l=new Array(s>5?s-5:0),c=5;c<s;c++)l[c-5]=arguments[c];return y((function(){if("function"!=typeof n)return new Error("Property `"+a+"` of component `"+r+"` has invalid PropType notation.");var s=ct(t,"Array")(e,o,r);if(s instanceof Error)return s;for(var c=e[o],u=0;u<c.length;u++)if((s=n.apply(void 0,[c,u,r,i,a+"["+u+"]"].concat(l)))instanceof Error)return s;return null}))}))}ct(!1,"Array"),ut.bind(null,!1),ct(!1,"Map"),ct(!1,"Object"),ct(!0,"Array"),ut.bind(null,!0);var pt=ct(!0,"Object");var dt=0;var ft={};function ht(t){return ft[t]||(ft[t]=function(t){if("function"==typeof Symbol)return Symbol(t);var n="__$mobx-react ".concat(t," (").concat(dt,")");return dt++,n}(t)),ft[t]}var mt=ht("patchMixins"),gt=ht("patchedDefinition");function bt(t,n){var e=t[mt]=t[mt]||{},o=e[n]=e[n]||{};return o.locks=o.locks||0,o.methods=o.methods||[],o}function vt(t,n){for(var e=this,o=arguments.length,r=new Array(o>2?o-2:0),i=2;i<o;i++)r[i-2]=arguments[i];n.locks++;try{var a;return null!=t&&(a=t.apply(this,r)),a}finally{n.locks--,0===n.locks&&n.methods.forEach((function(t){t.apply(e,r)}))}}function xt(t,n){return function(){for(var e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];vt.call.apply(vt,[this,t,n].concat(o))}}function yt(t,n,e,o,r){var i,a=xt(r,o);return F(i={},gt,!0),F(i,"get",(function(){return a})),F(i,"set",(function(r){if(this===t)a=xt(r,o);else{var i=yt(this,n,e,o,r);Object.defineProperty(this,n,i)}})),F(i,"configurable",!0),F(i,"enumerable",e),i}var wt={mobxStores:pt};Object.seal(wt);var Ct={contextTypes:{get:function(){return wt},set:function(t){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function Et(t,n,e){var o="inject-"+(n.displayName||n.name||n.constructor&&n.constructor.name||"Unknown");e&&(o+="-with-"+e);var r=function(e){function o(){var t,n;j(this,o);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(n=G(this,(t=K(o)).call.apply(t,[this].concat(r)))).storeRef=function(t){n.wrappedInstance=t},n}return N(o,p),W(o,[{key:"render",value:function(){var e={};for(var o in this.props)this.props.hasOwnProperty(o)&&(e[o]=this.props[o]);var r=t(this.context.mobxStores||{},e,this.context)||{};for(var i in r)e[i]=r[i];return function(t){return!(t.prototype&&t.prototype.render)}(n)||(e.ref=this.storeRef),f(n,e)}}]),o}();return r.displayName=o,it(r,n),r.wrappedComponent=n,Object.defineProperties(r,Ct),r}function St(t){return function(n,e){return t.forEach((function(t){if(!(t in e)){if(!(t in n))throw new Error("MobX injector: Store '"+t+"' is not available! Make sure it is provided by some Provider");e[t]=n[t]}})),e}}function kt(){var t;if("function"==typeof arguments[0])return t=arguments[0],function(n){var e=Et(t,n);return e.isMobxInjector=!1,(e=Gt(e)).isMobxInjector=!0,e};for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return t=St(n),function(e){return Et(t,e,n.join("-"))}}var Tt=k,Dt=ht("isUnmounted"),Pt=!1,At=!1,Ot="undefined"!=typeof WeakMap?new WeakMap:void 0,It=new at,Bt=ht("skipRender"),Rt=ht("isForcingUpdate"),Mt="function"==typeof u&&u((function(t,n){})).$$typeof;function Lt(t,n,e){Object.hasOwnProperty.call(t,n)?t[n]=e:Object.defineProperty(t,n,{enumerable:!1,configurable:!0,writable:!0,value:e})}function zt(t){if(g)try{return g(t)}catch(t){return null}return null}function _t(t){var n=zt(t);n&&Ot&&Ot.set(n,t),It.emit({event:"render",renderTime:t.__$mobRenderEnd-t.__$mobRenderStart,totalTime:Date.now()-t.__$mobRenderStart,component:t,node:n})}var jt=new at;function Ut(t,n){!function(t,n){for(var e=bt(t,n),o=arguments.length,r=new Array(o>2?o-2:0),i=2;i<o;i++)r[i-2]=arguments[i];for(var a=0;a<r.length;a++){var s=r[a];e.methods.indexOf(s)<0&&e.methods.push(s)}var l=Object.getOwnPropertyDescriptor(t,n);if(!l||!l[gt]){var c=t[n],u=yt(t,n,l?l.enumerable:void 0,e,c);Object.defineProperty(t,n,u)}}(t,n,Kt[n])}function Wt(t,n){if(Ft(t,n))return!0;if("object"!==_(t)||null===t||"object"!==_(n)||null===n)return!1;var e=Object.keys(t),o=Object.keys(n);if(e.length!==o.length)return!1;for(var r=0;r<e.length;r++)if(!hasOwnProperty.call(n,e[r])||!Ft(t[e[r]],n[e[r]]))return!1;return!0}function Ft(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}function Nt(t){var n=this;function e(){var t=this;a=!1;var n=void 0,e=void 0;if(s.track((function(){Pt&&(t.__$mobRenderStart=Date.now());try{e=T(!1,i)}catch(t){n=t}Pt&&(t.__$mobRenderEnd=Date.now())})),n)throw jt.emit(n),n;return e}var o=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",r=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;Lt(this,Bt,!1),Lt(this,Rt,!1);var i=t.bind(this),a=!1,s=new w("".concat(o,"#").concat(r,".render()"),(function(){if(!a&&(a=!0,"function"==typeof n.componentWillReact&&n.componentWillReact(),!0!==n[Dt])){var t=!0;try{Lt(n,Rt,!0),n[Bt]||p.prototype.forceUpdate.call(n),t=!1}finally{Lt(n,Rt,!1),t&&s.dispose()}}}));return s.reactComponent=this,e[Tt]=s,this.render=e,e.call(this)}var Kt={componentWillUnmount:function(){if(this.render[Tt]&&this.render[Tt].dispose(),this[Dt]=!0,Pt){var t=zt(this);t&&Ot&&Ot.delete(t),It.emit({event:"destroy",component:this,node:t})}},componentDidMount:function(){Pt&&_t(this)},componentDidUpdate:function(){Pt&&_t(this)},shouldComponentUpdate:function(t,n){return this.state!==n||!Wt(this.props,t)}};function Ht(t,n){var e=ht("reactProp_".concat(n,"_valueHolder")),o=ht("reactProp_".concat(n,"_atomHolder"));function r(){return this[o]||Lt(this,o,D("reactive "+n)),this[o]}Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return r.call(this).reportObserved(),this[e]},set:function(t){this[Rt]||Wt(this[e],t)?Lt(this,e,t):(Lt(this,e,t),Lt(this,Bt,!0),r.call(this).reportChanged(),Lt(this,Bt,!1))}})}function Gt(t,n){if("string"==typeof t)throw new Error("Store names should be provided as array");if(Array.isArray(t))return At||(At=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),n?kt.apply(null,t)(Gt(n)):function(n){return Gt(t,n)};var e=t;if(!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),e.__proto__===d&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),Mt&&e.$$typeof===Mt){var o=e.render;if("function"!=typeof o)throw new Error("render property of ForwardRef was not a function");return u((function(){var t=arguments;return c.createElement(Xt,null,(function(){return o.apply(void 0,t)}))}))}if(!("function"!=typeof e||e.prototype&&e.prototype.render||e.isReactClass||p.isPrototypeOf(e))){var r,i,a=Gt((i=r=function(t){function n(){return j(this,n),G(this,K(n).apply(this,arguments))}return N(n,p),W(n,[{key:"render",value:function(){return e.call(this,this.props,this.context)}}]),n}(),r.displayName=e.displayName||e.name,r.contextTypes=e.contextTypes,r.propTypes=e.propTypes,r.defaultProps=e.defaultProps,i));return it(a,e),a}if(!e)throw new Error("Please pass a valid component to 'observer'");var s=e.prototype||e;!function(t){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach((function(n){Ut(t,n)})),t.shouldComponentUpdate?t.shouldComponentUpdate!==Kt.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):t.shouldComponentUpdate=Kt.shouldComponentUpdate}(s),e.isMobXReactObserver=!0,Ht(s,"props"),Ht(s,"state");var l=s.render;return s.render=function(){return Nt.call(this,l)},e}var Xt=Gt((function(t){var n=t.children,e=t.inject,o=t.render,r=n||o;if(void 0===r)return null;if(!e)return r();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var i=kt(e)(r);return c.createElement(i,null)}));Xt.displayName="Observer";var Vt=function(t,n,e,o,r){var i="children"===n?"render":"children";return"function"==typeof t[n]&&"function"==typeof t[i]?new Error("Invalid prop,do not use children and render in the same time in`"+e):"function"!=typeof t[n]&&"function"!=typeof t[i]?new Error("Invalid prop `"+r+"` of type `"+_(t[n])+"` supplied to `"+e+"`, expected `function`."):void 0};function $t(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=t&&this.setState(t)}function Yt(t){this.setState(function(n){var e=this.constructor.getDerivedStateFromProps(t,n);return null!=e?e:null}.bind(this))}function Zt(t,n){try{var e=this.props,o=this.state;this.props=t,this.state=n,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(e,o)}finally{this.props=e,this.state=o}}Xt.propTypes={render:Vt,children:Vt},$t.__suppressDeprecationWarning=!0,Yt.__suppressDeprecationWarning=!0,Zt.__suppressDeprecationWarning=!0;var Jt={children:!0,key:!0,ref:!0},Qt=function(t){function n(t,e){var o;return j(this,n),(o=G(this,K(n).call(this,t,e))).state={},qt(t,o.state),o}return N(n,p),W(n,[{key:"render",value:function(){return h.only(this.props.children)}},{key:"getChildContext",value:function(){var t={};return qt(this.context.mobxStores,t),qt(this.props,t),{mobxStores:t}}}],[{key:"getDerivedStateFromProps",value:function(t,n){if(!t)return null;if(!n)return t;if(Object.keys(t).filter(tn).length!==Object.keys(n).filter(tn).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!t.suppressChangedStoreWarning)for(var e in t)tn(e)&&n[e]!==t[e]&&console.warn("MobX Provider: Provided store '"+e+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return t}}]),n}();function qt(t,n){if(t)for(var e in t)tn(e)&&(n[e]=t[e])}function tn(t){return!Jt[t]&&"suppressChangedStoreWarning"!==t}Qt.contextTypes={mobxStores:pt},Qt.childContextTypes={mobxStores:pt.isRequired},function(t){var n=t.prototype;if(!n||!n.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof n.getSnapshotBeforeUpdate)return t;var e=null,o=null,r=null;if("function"==typeof n.componentWillMount?e="componentWillMount":"function"==typeof n.UNSAFE_componentWillMount&&(e="UNSAFE_componentWillMount"),"function"==typeof n.componentWillReceiveProps?o="componentWillReceiveProps":"function"==typeof n.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"==typeof n.componentWillUpdate?r="componentWillUpdate":"function"==typeof n.UNSAFE_componentWillUpdate&&(r="UNSAFE_componentWillUpdate"),null!==e||null!==o||null!==r){var i=t.displayName||t.name,a="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==e?"\n  "+e:"")+(null!==o?"\n  "+o:"")+(null!==r?"\n  "+r:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(n.componentWillMount=$t,n.componentWillReceiveProps=Yt),"function"==typeof n.getSnapshotBeforeUpdate){if("function"!=typeof n.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");n.componentWillUpdate=Zt;var s=n.componentDidUpdate;n.componentDidUpdate=function(t,n,e){var o=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:e;s.call(this,t,n,o)}}}(Qt);ht("disposeOnUnmount");if(!p)throw new Error("mobx-react requires React to be available");if(!b)throw new Error("mobx-react requires mobx to be available");if("function"==typeof m&&v({reactionScheduler:m}),"object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":_(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var nn={spy:b,extras:{getDebugName:x}},en={renderReporter:It,componentByNodeRegistry:Ot,componentByNodeRegistery:Ot,trackComponents:function(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");Pt||(Pt=!0)}};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(en,nn)}var on,rn,an,sn,ln,cn=L.div(on||(on=t(["\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n"],["\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n"]))),un=L.canvas(rn||(rn=t(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]))),pn=L.div(ln||(ln=t(["\n  display: ",";\n  flex-direction: row;\n  align-items: center;\n  height: ","px;\n  color: ",";\n  padding: 8px 24px;\n  box-sizing: border-box;\n  position: absolute;\n  width: 100%;\n  z-index: 5;\n  background: ",";\n  ","\n"],["\n  display: ",";\n  flex-direction: row;\n  align-items: center;\n  height: ","px;\n  color: ",";\n  padding: 8px 24px;\n  box-sizing: border-box;\n  position: absolute;\n  width: 100%;\n  z-index: 5;\n  background: ",";\n  ","\n"])),(function(t){return t.hide?"none":"flex"}),(function(t){return t.theme.measurements.canvas.bar.height}),(function(t){return t.theme.mainCanvasActionBar.foreground}),(function(t){return t.transparentBackgound?"transparent":t.theme.mainCanvasActionBar.background}),(function(n){return n.bottom?z(an||(an=t(["\n      justify-content: space-around;\n      bottom: 0;\n      transform: rotate(180deg)\n    "],["\n      justify-content: space-around;\n      bottom: 0;\n      transform: rotate(180deg)\n    "]))):z(sn||(sn=t(["\n      justify-content: space-between;\n  "],["\n      justify-content: space-between;\n  "])))}));pn.defaultProps={theme:P};var dn,fn,hn,mn,gn,bn,vn,xn,yn=A.shared.buttons.float.size,wn=L(O.Button.Index)(dn||(dn=t(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  background:  ",";\n  color:  ",";\n  margin: 0 5px;\n"],["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  background:  ",";\n  color:  ",";\n  margin: 0 5px;\n"])),(function(t){return t.theme.measurements.fontSystem.button2.size}),(function(t){return t.theme.measurements.fontSystem.button2.letterSpacing}),(function(t){return t.theme.measurements.fontSystem.button2.case}),(function(t){return t.theme.mainCanvasActionBar.buttonBackground}),(function(t){return t.theme.mainCanvasActionBar.buttonForeground})),Cn=L(O.Button.Secondary)(fn||(fn=t(["\n  margin-top: 3px;\n"],["\n  margin-top: 3px;\n"]))),En=L(O.Button.Primary)(hn||(hn=t(["\n  margin-top: 3px;\n  margin-right: 10px;\n"],["\n  margin-top: 3px;\n  margin-right: 10px;\n"]))),Sn=L.div(mn||(mn=t(["\n  width: 60px;\n  height: 60px;\n  background-color: gray;\n  border-radius: 50%;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 5;\n"],["\n  width: 60px;\n  height: 60px;\n  background-color: gray;\n  border-radius: 50%;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 5;\n"]))),kn=L(O.Button.Index)(gn||(gn=t(["\n  height: ","px;\n  width: ","px;\n  border-radius: 50%;\n  margin: 2px;\n  background-color: ",";\n"],["\n  height: ","px;\n  width: ","px;\n  border-radius: 50%;\n  margin: 2px;\n  background-color: ",";\n"])),yn,yn,(function(t){return t.theme.foreground})),Tn=L.div.attrs({role:"main"})(bn||(bn=t(["\n  background-color: ",";\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-basis: auto;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"],["\n  background-color: ",";\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-basis: auto;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])),(function(t){return t.theme.canvas.background})),Dn=L.canvas(vn||(vn=t(["\n  position: absolute;\n  top: 0;\n  left: 0;\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n"]))),Pn=L.div(xn||(xn=t(["\n  position: relative;\n  transition: all 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);\n  height: 100%;\n  width: 100%;\n  z-index: 7;\n  background-color: ",";\n"],["\n  position: relative;\n  transition: all 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);\n  height: 100%;\n  width: 100%;\n  z-index: 7;\n  background-color: ",";\n"])),(function(t){return t.theme.webcam.backdrop}));Pn.defaultProps={theme:P};var An,On,In,Bn=L.video(An||(An=t(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n"],["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n"]))),Rn=L.div(On||(On=t(["\n  display: inline-flex;\n"],["\n  display: inline-flex;\n"]))),Mn=L.div.attrs((function(t){var n=t.radius;return{style:{height:2*n+"px",width:2*n+"px"}}}))(In||(In=t(["\n  border-radius: 50%;\n  border: 2px solid ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.20), inset 0 2px 6px 0 rgba(0, 0, 0, 0.20);\n  cursor: move;\n"],["\n  border-radius: 50%;\n  border: 2px solid ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.20), inset 0 2px 6px 0 rgba(0, 0, 0, 0.20);\n  cursor: move;\n"])),(function(t){return t.theme.canvas.controlsOutline}));Mn.defaultProps={theme:P};var Ln,zn=L.div(Ln||(Ln=t(["\n  position: absolute;\n  color: ","\n"],["\n  position: absolute;\n  color: ","\n"])),(function(t){return t.theme.canvas.controlsOutline}));zn.defaultProps={theme:P};var _n,jn=L.div(_n||(_n=t(["\n  position: absolute;\n  height: ","px;\n  width: ",'px;\n  margin-left: -10px;\n  margin-top: -10px;\n  z-index: 5;\n  will-change: transform;\n  &:before {\n    display: block;\n    position: absolute;\n    cursor: ew-resize;\n    content: "";\n    background: ',";\n    border-radius: 50%;\n    width: ","px;\n    height: ","px;\n    top: ","px;\n    left: ","px;\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.24);\n  }\n"],["\n  position: absolute;\n  height: ","px;\n  width: ",'px;\n  margin-left: -10px;\n  margin-top: -10px;\n  z-index: 5;\n  will-change: transform;\n  &:before {\n    display: block;\n    position: absolute;\n    cursor: ew-resize;\n    content: "";\n    background: ',";\n    border-radius: 50%;\n    width: ","px;\n    height: ","px;\n    top: ","px;\n    left: ","px;\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.24);\n  }\n"])),(function(t){return t.theme.measurements.canvas.knob.touchable.desktop}),(function(t){return t.theme.measurements.canvas.knob.touchable.desktop}),(function(t){return t.theme.canvas.controls}),(function(t){return t.theme.measurements.canvas.knob.size}),(function(t){return t.theme.measurements.canvas.knob.size}),(function(t){return t.theme.measurements.canvas.knob.size/4}),(function(t){return t.theme.measurements.canvas.knob.size/4}));jn.defaultProps={theme:P};var Un,Wn,Fn,Nn,Kn,Hn,Gn,Xn,Vn,$n,Yn,Zn,Jn,Qn,qn,te,ne,ee,oe,re,ie,ae,se=A.canvas.corner,le=se.size,ce=se.touchable,ue=ce.mobile,pe=ce.desktop,de=L.div(Jn||(Jn=t(["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  ","\n  ","\n  ","\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    width: ","px;\n    height: ","px;\n    ","\n    ","\n  }\n"],["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  ","\n  ","\n  ","\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    width: ","px;\n    height: ","px;\n    ","\n    ","\n  }\n"])),pe,pe,(function(n){return"top"===n.vertical?z(Un||(Un=t(["top: 0px;"],["top: 0px;"]))):z(Wn||(Wn=t(["bottom: 0px;"],["bottom: 0px;"])))}),(function(n){return"left"===n.horizontal?z(Fn||(Fn=t(["left: 0px;"],["left: 0px;"]))):z(Nn||(Nn=t(["right: 0px;"],["right: 0px;"])))}),(function(n){return"top"===n.vertical?z(Kn||(Kn=t(["margin-top: -","px;"],["margin-top: -","px;"])),pe/4):z(Hn||(Hn=t(["margin-bottom: -","px;"],["margin-bottom: -","px;"])),pe/4)}),(function(n){return"left"===n.horizontal?z(Gn||(Gn=t(["margin-left: -","px;"],["margin-left: -","px;"])),pe/4):z(Xn||(Xn=t(["margin-right: -","px;"],["margin-right: -","px;"])),pe/4)}),ue,ue,(function(n){return"top"===n.vertical?z(Vn||(Vn=t(["margin-top: -","px;"],["margin-top: -","px;"])),ue/2):z($n||($n=t(["margin-bottom: -","px;"],["margin-bottom: -","px;"])),ue/2)}),(function(n){return"left"===n.horizontal?z(Yn||(Yn=t(["margin-left: -","px;"],["margin-left: -","px;"])),ue/2):z(Zn||(Zn=t(["margin-right: -","px;"],["margin-right: -","px;"])),ue/2)})),fe=L(de)((function(n){var e="right"===n.horizontal?n.borderWidth:0,o="bottom"===n.vertical?n.borderWidth:0,r="left"===n.horizontal?n.borderWidth:0,i=("top"===n.vertical?n.borderWidth:0)+"px "+e+"px "+o+"px "+r+"px",a="left"===n.horizontal&&"bottom"===n.vertical||"right"===n.horizontal&&"top"===n.vertical?"nesw-resize":"nwse-resize",s=pe/4-n.borderWidth,l=ue/4+n.borderWidth;return z(ae||(ae=t(['\n  &:before {\n    display: block;\n    position: absolute;\n    content: "";\n    width: ',"px;\n    height: ","px;\n    z-index: 4;\n    border-color: ",";\n    border-style: solid;\n    border-width: ",";\n    ","\n    ","\n    cursor: ",";\n    @media all and (min-width: 0) and (max-width: 599px) {\n      ","\n      ","\n    }\n  }"],['\n  &:before {\n    display: block;\n    position: absolute;\n    content: "";\n    width: ',"px;\n    height: ","px;\n    z-index: 4;\n    border-color: ",";\n    border-style: solid;\n    border-width: ",";\n    ","\n    ","\n    cursor: ",";\n    @media all and (min-width: 0) and (max-width: 599px) {\n      ","\n      ","\n    }\n  }"])),le,le,(function(t){return t.theme.canvas.controls}),i,"top"===n.vertical?z(Qn||(Qn=t(["top: ","px;"],["top: ","px;"])),s):z(qn||(qn=t(["bottom: ","px;"],["bottom: ","px;"])),s),"left"===n.horizontal?z(te||(te=t(["left: ","px;"],["left: ","px;"])),s):z(ne||(ne=t(["right: ","px;"],["right: ","px;"])),s),a,"top"===n.vertical?z(ee||(ee=t(["margin-top: ","px;"],["margin-top: ","px;"])),l):z(oe||(oe=t(["margin-bottom: ","px;"],["margin-bottom: ","px;"])),l),"left"===n.horizontal?z(re||(re=t(["margin-left: ","px;"],["margin-left: ","px;"])),l):z(ie||(ie=t(["margin-right: ","px;"],["margin-right: ","px;"])),l))}));fe.defaultProps={theme:P};var he,me=L.div(he||(he=t(["\n  position: absolute;\n  height: ","px;\n  width: 4px;\n  z-index: 4;\n  background: ",";\n  cursor: pointer;\n"],["\n  position: absolute;\n  height: ","px;\n  width: 4px;\n  z-index: 4;\n  background: ",";\n  cursor: pointer;\n"])),(function(t){return t.theme.measurements.canvas.width.size}),(function(t){return t.theme.canvas.controls}));me.defaultProps={theme:P};var ge,be=L.div.attrs((function(t){return{style:{height:t.height+"px",width:t.width+"px"}}}))(ge||(ge=t(["\n  border-style: solid;\n  border-width: 2px 0 2px 0;\n  border-color: ",";\n  box-shadow: 0 -6px 6px -6px rgba(0, 0, 0, 0.20), inset 0 6px 6px -6px rgba(0, 0, 0, 0.20);\n  cursor: move;\n  position: absolute;\n"],["\n  border-style: solid;\n  border-width: 2px 0 2px 0;\n  border-color: ",";\n  box-shadow: 0 -6px 6px -6px rgba(0, 0, 0, 0.20), inset 0 6px 6px -6px rgba(0, 0, 0, 0.20);\n  cursor: move;\n  position: absolute;\n"])),(function(t){return t.theme.canvas.controlsOutline}));be.defaultProps={theme:P};var ve,xe=A.canvas.sprite.controlPadding,ye=L.div.attrs((function(t){var n=t.height,e=t.width;return{style:{height:n+xe+"px",width:e+xe+"px"}}}))(ve||(ve=t(["\n  left: -","px;\n  top: -","px;\n  transform-origin: center center;\n  border-style: solid;\n  border-width: 2px;\n  border-color: ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.20), inset 0 2px 6px 0 rgba(0, 0, 0, 0.20);\n  cursor: move;\n  will-change: transform;\n  position: absolute;\n"],["\n  left: -","px;\n  top: -","px;\n  transform-origin: center center;\n  border-style: solid;\n  border-width: 2px;\n  border-color: ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.20), inset 0 2px 6px 0 rgba(0, 0, 0, 0.20);\n  cursor: move;\n  will-change: transform;\n  position: absolute;\n"])),xe/2,xe/2,(function(t){return t.theme.canvas.controls}));ye.defaultProps={theme:P};var we,Ce,Ee,Se,ke=L.div.attrs((function(t){return{style:{left:t.x+"px"}}}))(we||(we=t(["\n  position: absolute;\n  bottom: -","px;\n  height: ","px;\n  width: 2px;\n  background-color: ",";\n"],["\n  position: absolute;\n  bottom: -","px;\n  height: ","px;\n  width: 2px;\n  background-color: ",";\n"])),(function(t){return t.theme.measurements.canvas.sprite.rotateHandle.height}),(function(t){return t.theme.measurements.canvas.sprite.rotateHandle.height}),(function(t){return t.theme.canvas.controlsOutline})),Te=L.div(Ce||(Ce=t(["\n  position: relative;\n  height: inherit;\n  width: inherit;\n  overflow: hidden;\n"],["\n  position: relative;\n  height: inherit;\n  width: inherit;\n  overflow: hidden;\n"]))),De=L.div.attrs({tabIndex:0})(Ee||(Ee=t(["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  top: 0;\n  left: 0;\n  &:focus {\n    outline: 0;\n  }\n"],["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  top: 0;\n  left: 0;\n  &:focus {\n    outline: 0;\n  }\n"])),(function(t){return t.height}),(function(t){return t.width})),Pe=L(O.Button.Secondary)(Se||(Se=t(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  letter-spacing: unset;\n  border-radius: unset;\n  border: unset;\n  text-transform: unset;\n  color: ",";\n  padding: 4px 10px;\n  position: relative;\n  height: 32px;\n  /* for safari */\n  margin: 0;\n  &:last-child:after {\n    opacity: 0;\n  }\n"],["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  letter-spacing: unset;\n  border-radius: unset;\n  border: unset;\n  text-transform: unset;\n  color: ",";\n  padding: 4px 10px;\n  position: relative;\n  height: 32px;\n  /* for safari */\n  margin: 0;\n  &:last-child:after {\n    opacity: 0;\n  }\n"])),(function(t){return t.theme.measurements.fontSystem.button1.size}),(function(t){return t.theme.measurements.fontSystem.button1.letterSpacing}),(function(t){return t.theme.measurements.fontSystem.button1.case}),(function(t){return t.theme.canvasActionBar.foreground}));Pe.defaultProps={theme:P};var Ae,Oe,Ie,Be=L.div(Ie||(Ie=t(["\n  ",";\n  display: inline-flex;\n  position: absolute;\n  transform: translate(-50%, -100%);\n  background: ",";\n  border-radius: ","px;\n  white-space: nowrap;\n  transition: opacity 0.3s ease-in-out;\n  /* more z-index than knob */\n  z-index: 5;\n  "," {\n    &:after {\n      content: '';\n      position: absolute;\n      right: 0px;\n      top: 6px;\n      height: calc(100% - 12px);\n      border-right: 1px solid ",";\n      &:last-child {\n        border-right: unset;\n      }\n    }\n  }\n"],["\n  ",";\n  display: inline-flex;\n  position: absolute;\n  transform: translate(-50%, -100%);\n  background: ",";\n  border-radius: ","px;\n  white-space: nowrap;\n  transition: opacity 0.3s ease-in-out;\n  /* more z-index than knob */\n  z-index: 5;\n  "," {\n    &:after {\n      content: '';\n      position: absolute;\n      right: 0px;\n      top: 6px;\n      height: calc(100% - 12px);\n      border-right: 1px solid ",";\n      &:last-child {\n        border-right: unset;\n      }\n    }\n  }\n"])),(function(n){return n.show?z(Ae||(Ae=t(["opacity: 1"],["opacity: 1"]))):z(Oe||(Oe=t(["opacity: 0"],["opacity: 0"])))}),(function(t){return t.theme.canvasActionBar.background}),(function(t){return t.theme.shape.radiusMedium}),Pe,(function(t){return t.theme.canvasActionBar.separator}));Be.defaultProps={theme:P};var Re,Me,Le,ze,_e,je=L.div(Re||(Re=t(["\n  position: absolute;\n  background: ",";\n  z-index: 4;\n  transition: all 0.4s ease-in-out;\n"],["\n  position: absolute;\n  background: ",";\n  z-index: 4;\n  transition: all 0.4s ease-in-out;\n"])),(function(t){return t.theme.canvas.cropBackdrop})),Ue={Index:un,Area:cn,Bar:{Index:pn,ButtonGroup:Rn},Button:{Primary:En,Secondary:Cn,Tertiary:wn,Float:function(t){var n=t.onClick,e=t.style,o=t.ariaLabel,r=t.className;return c.createElement(Sn,{className:r,style:e},c.createElement(kn,{ariaLabel:o,onClick:n}))}},Container:Tn,Element:Dn,Wrapper:Pn,Webcam:Bn,Controls:{Knob:jn,Circle:Mn,Corner:fe,Line:zn,Area:be,Sprite:ye,RotateHandle:ke,Container:Te,Wrapper:De,SpriteActionsWrapper:Be,SpriteActionButton:Pe,Width:me},Crop:{Box:L.div(Me||(Me=t(["\n  position: absolute;\n  box-shadow: inset 0 0 0 2px ",";\n  cursor: move;\n  transition: all 0.4s ease-in-out;\n"],["\n  position: absolute;\n  box-shadow: inset 0 0 0 2px ",";\n  cursor: move;\n  transition: all 0.4s ease-in-out;\n"])),(function(t){return t.theme.canvas.controlsOutline})),GridLine:L.div(Le||(Le=t(["\n  position: absolute;\n  background: ",";\n  z-index: 2;\n  transition: all 0.4s ease-in-out;\n"],["\n  position: absolute;\n  background: ",";\n  z-index: 2;\n  transition: all 0.4s ease-in-out;\n"])),(function(t){return t.theme.canvas.controlsOutline})),Backdrop:je,Control:L.div(ze||(ze=t(["\n  position: absolute;\n  width: 14px;\n  height: 14px;\n  z-index: 4;\n  border-color: ",";\n  border-style: solid;\n  transition: all 0.4s ease-in-out;\n"],["\n  position: absolute;\n  width: 14px;\n  height: 14px;\n  z-index: 4;\n  border-color: ",";\n  border-style: solid;\n  transition: all 0.4s ease-in-out;\n"])),(function(t){return t.theme.canvas.controls}))}},We=A.shared.buttons.float.size,Fe=L(Ue.Button.Float)(_e||(_e=t(["\n  > button {\n    background-color: ",";\n  }\n"],["\n  > button {\n    background-color: ",";\n  }\n"])),(function(t){return t.theme.webcam.button})),Ne=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.init=function(){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({video:!0}).then((function(t){n.video.srcObject=t})).catch((function(t){n.props.modal.showActionModal({identifier:"webcamUnavailable",error:t,handlers:n.modalHandler})})):n.props.modal.showActionModal({identifier:"webcamUnavailable",error:"Webcam not supported",handlers:n.modalHandler})},n.stop=function(){n.video.srcObject.getTracks().forEach((function(t){t.stop()})),n.video.srcObject=null,n.props.active.selectWebcam(!1)},n.capture=function(){n.canvas.width=n.video.videoWidth,n.canvas.height=n.video.videoHeight,n.canvas.getContext("2d").drawImage(n.video,0,0),n.props.active.newImage(n.canvas.toDataURL("image/webp"))},n}return n(e,t),e.prototype.componentDidMount=function(){var t=this;this.canvas=document.createElement("canvas"),this.video=document.getElementById("video"),this.modalHandler={buttonYes:function(){t.props.active.selectWebcam(!1)}},this.init()},e.prototype.render=function(){var t=this.props.editor.getPreviewSize(),n=t.height,e=t.width,o=this.props.canvas.canvasSize.height,r=(o-n)/2,i=r<24+We?o-48-We/2:o-r+24,a=this.props.active.webcamLabel;return c.createElement(Ue.Wrapper,null,c.createElement(Ue.Bar.Index,{transparentBackgound:!0,style:{justifyContent:"flex-end"}},c.createElement(Ue.Bar.ButtonGroup,null,c.createElement(Ue.Button.Secondary,{ariaLabel:a,onClick:this.stop},a))),c.createElement(Ue.Webcam,{style:{height:n,width:e},autoPlay:!0,id:"video"}),c.createElement(Fe,{ariaLabel:"Click ans Save",style:{top:i},onClick:this.capture}))},e}(c.Component),Ke=kt("active","canvas","modal","editor")(Gt(Ne));Fe.defaultProps={theme:P};var He=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.timeout=null,n.updateDimensions=function(t){void 0===t&&(t=!0),t?(clearTimeout(n.timeout),n.timeout=setTimeout((function(){n.update(t)}),100)):n.update(t)},n.update=function(t){void 0===t&&(t=!0),n.props.canvas.saveDimensions({width:n.wrapperElement&&n.wrapperElement.clientWidth||0,height:n.wrapperElement&&n.wrapperElement.clientHeight||0,render:t})},n}return n(e,t),e.prototype.componentDidMount=function(){var t=this;this.wrapperElement=document.getElementById("CanvasContainer"),this.updateDimensions(!1),window.addEventListener("resize",(function(n){return t.updateDimensions()}))},e.prototype.componentWillUnmount=function(){var t=this;window.removeEventListener("resize",(function(n){return t.updateDimensions()})),this.timeout&&clearTimeout(this.timeout)},e.prototype.render=function(){return c.createElement(Ue.Container,{id:"CanvasContainer"},this.props.children)},e}(p),Ge=kt("canvas")(Gt(He)),Xe=function(t,n){return void 0!==t&&void 0!==n},Ve=L(Ue.Controls.Knob)(Ze||(Ze=t(["\n  margin-top: -","px;\n  margin-left: -","px;\n"],["\n  margin-top: -","px;\n  margin-left: -","px;\n"])),(function(t){return t.theme.measurements.canvas.knob.touchable.desktop/2}),(function(t){return t.theme.measurements.canvas.knob.touchable.desktop/2})),$e=L(Ue.Controls.Container)(Je||(Je=t(["\n  overflow: unset;\n"],["\n  overflow: unset;\n"]))),Ye=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.start=function(t,e){var o=e.x,r=e.y;Xe(o,r)&&n.focusTool.setStart({x:o,y:r})},n.end=function(t,e){var o=e.x,r=e.y;Xe(o,r)&&n.focusTool.setEnd({x:o,y:r})},n.onKnob1DragStart=function(t,e){n.focusTool.clickableCanvas(!1),n.start(t,e)},n.onKnob1DragStop=function(t,e){n.addSnapshot(e,n.historyLocale.focusPosition),n.start(t,e),n.focusTool.clickableCanvas(!0)},n.onKnob2DragStart=function(t,e){n.focusTool.clickableCanvas(!1),n.end(t,e)},n.onKnob2DragStop=function(t,e){n.addSnapshot(e,n.historyLocale.focusPosition),n.end(t,e),n.focusTool.clickableCanvas(!0)},n.addSnapshot=function(t,e){var o=t.x,r=t.y;Xe(o,r)&&n.focusTool.toolSnapshot(e)},n.getLine=function(){var t=n.props.canvas.canvasSize,e=t.height,o=t.width,r=n.focusTool.startOnPreview,i=n.focusTool.endOnPreview;return c.createElement("svg",{focusable:"false",height:e,width:o},c.createElement("line",{x1:r.x,y1:r.y,x2:i.x,y2:i.y,strokeWidth:"2",stroke:"currentColor"}))},n}return n(e,t),Object.defineProperty(e.prototype,"focusTool",{get:function(){return this.props.focusTool},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"historyLocale",{get:function(){return this.focusTool.locale.history},enumerable:!0,configurable:!0}),e.prototype.render=function(){return c.createElement($e,null,c.createElement(Ue.Controls.Line,null,this.getLine()),c.createElement(O.Draggable,{bounds:"parent",position:this.focusTool.startOnPreview,onStart:this.onKnob1DragStart,onDrag:this.start,onStop:this.onKnob1DragStop},c.createElement(Ve,null)),c.createElement(O.Draggable,{bounds:"parent",onStart:this.onKnob2DragStart,onDrag:this.end,onStop:this.onKnob2DragStop,position:this.focusTool.endOnPreview},c.createElement(Ve,null)))},e}(c.Component);Ve.defaultProps={theme:P};var Ze,Je,Qe,qe,to,no,eo,oo,ro,io,ao,so,lo,co,uo,po,fo,ho,mo,go,bo,vo,xo=kt("canvas","focusTool")(Gt(Ye)),yo=function(t){function o(){var n=null!==t&&t.apply(this,arguments)||this;return n.state={knobAngle:2.35},n.getKnobPosition=function(){var t=n.focusTool.center,e=n.focusTool.radius,o=Math.PI-n.state.knobAngle;return{x:t.x+e*Math.cos(o),y:t.y+e*Math.sin(o)}},n.onCircle=function(t,e){var o=e.x,r=e.y;if(Xe(o,r)){var i=n.focusTool.radius;n.focusTool.setCenter({x:o+i,y:r+i})}},n.onKnob=function(t,o){var r=o.x,i=o.y;if(Xe(r,i)){var a=n.focusTool.center,s=new e(r,i),l=new e(a.x,a.y).subtract(s),c=l.magnitude,u=-Math.atan2(l.y,l.x);n.setState({knobAngle:u}),n.focusTool.setRadius(c)}},n.onCircleDragStart=function(t,e){n.focusTool.clickableCanvas(!1),n.onCircle(t,e)},n.onCircleDragStop=function(t,e){n.addSnapshot(e,n.historyLocale.focusPosition),n.onCircle(t,e),n.focusTool.clickableCanvas(!0)},n.onKnobDragStart=function(t,e){n.focusTool.clickableCanvas(!1),n.onKnob(t,e)},n.onKnobDragStop=function(t,e){n.addSnapshot(e,n.historyLocale.focusSize),n.onKnob(t,e),n.focusTool.clickableCanvas(!0)},n.addSnapshot=function(t,e){var o=t.x,r=t.y;Xe(o,r)&&n.focusTool.toolSnapshot(e)},n}return n(o,t),o.prototype.componentDidMount=function(){this.setState({knobAngle:2.35})},Object.defineProperty(o.prototype,"historyLocale",{get:function(){return this.focusTool.locale.history},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"focusTool",{get:function(){return this.props.focusTool},enumerable:!0,configurable:!0}),o.prototype.render=function(){var t=this.focusTool.center,n=this.focusTool.radius,e={x:t.x-n,y:t.y-n};return c.createElement(Ue.Controls.Container,null,c.createElement(O.Draggable,{bounds:"parent",onStart:this.onKnobDragStart,onDrag:this.onKnob,onStop:this.onKnobDragStop,position:this.getKnobPosition()},c.createElement(Ue.Controls.Knob,null)),c.createElement(O.Draggable,{onStart:this.onCircleDragStart,onDrag:this.onCircle,onStop:this.onCircleDragStop,position:e},c.createElement(Ue.Controls.Circle,{radius:n})))},o}(c.Component),wo=kt("focusTool","canvas")(Gt(yo)),Co=A.canvas.knob.size,Eo=function(t){function o(){var n=null!==t&&t.apply(this,arguments)||this;return n.getKnobPosition=function(){var t=n.focusTool.origin,e=n.focusTool.size/2,o=Math.PI/2+n.focusTool.rotationOnPreview;return{x:t.x+e*Math.cos(o),y:t.y+e*Math.sin(o)}},n.onArea=function(t,o){var r=o.x,i=o.y;if(Xe(r,i)){var a=n.props.canvas,s=n.focusTool,l=s.size,c=r+s.mirroredAreaWidth/2,u=i+l/2,p=new e(n.getKnobPosition()),d=new e({x:r,y:i}).subtract(new e(n.areaPosition)),f=p.add(d);f.x>Co&&f.x<a.canvasSize.width-Co&&f.y>Co&&f.y<a.canvasSize.height-Co&&n.focusTool.setOrigin({x:c,y:u})}},n.onKnob=function(t,o){var r=o.x,i=o.y;if(Xe(r,i)){var a=new e(n.focusTool.origin),s=new e(r,i),l=a.subtract(s),c=l.magnitude,u=Math.PI/2+Math.atan2(l.y,l.x);n.focusTool.setSize(2*c),n.focusTool.setRotation(u)}},n.onAreaDragStop=function(t,e){n.addSnapshot(e,n.historyLocale.focusPosition),n.onArea(t,e)},n.onKnobDragStop=function(t,e){n.addSnapshot(e,n.historyLocale.focusSize),n.onKnob(t,e)},n.addSnapshot=function(t,e){var o=t.x,r=t.y;Xe(o,r)&&n.focusTool.toolSnapshot(e)},n}return n(o,t),Object.defineProperty(o.prototype,"historyLocale",{get:function(){return this.focusTool.locale.history},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"focusTool",{get:function(){return this.props.focusTool},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"areaPosition",{get:function(){var t=this.focusTool,n=t.origin,e=t.size,o=t.mirroredAreaWidth;return{x:n.x-o/2,y:n.y-e/2}},enumerable:!0,configurable:!0}),o.prototype.render=function(){var t=this.areaPosition,n=t.x,e=t.y;return c.createElement(Ue.Controls.Container,null,c.createElement(O.Draggable,{bounds:"parent",onStart:this.onKnob,onDrag:this.onKnob,onStop:this.onKnobDragStop,position:this.getKnobPosition()},c.createElement(Ue.Controls.Knob,null)),c.createElement(O.Draggable,{onStart:this.onArea,onDrag:this.onArea,onStop:this.onAreaDragStop,position:{x:n,y:e},rotation:this.focusTool.rotationOnPreview},c.createElement(Ue.Controls.Area,{height:this.focusTool.size,width:this.focusTool.mirroredAreaWidth})))},o}(c.Component),So=kt("focusTool","canvas")(Gt(Eo)),ko=kt("focusTool")(Gt((function(t){var n=t.focusTool,e=n.state,r=function(){switch(e.identifier){case o.LINEAR:return xo;case o.RADIAL:return wo;case o.MIRRORED:return So}return null}();return n.isOptionSelected&&r?c.createElement(r,null):null}))),To=L(Ue.Controls.Container)(Qe||(Qe=t(["\n  cursor: none;\n"],["\n  cursor: none;\n"]))),Do=L.div(qe||(qe=t(["\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  border-width: 2px;\n  border-style: solid;\n  box-shadow:\n  0 0 0 0.5px rgba(0, 0, 0, 0.8),\n  0 0 0 1px rgba(255, 255, 255, 1);\n"],["\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  border-width: 2px;\n  border-style: solid;\n  box-shadow:\n  0 0 0 0.5px rgba(0, 0, 0, 0.8),\n  0 0 0 1px rgba(255, 255, 255, 1);\n"]))),Po=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.INITIAL_POSITION={x:void 0,y:void 0},n.state=r({},n.INITIAL_POSITION,{isDrawing:!1}),n.getCursorCoordinates=function(t){var e=0,o=0;if(-1!==t.type.indexOf("touch")){if(!(r=t).touches.length)return n.INITIAL_POSITION;e=r.touches[0].clientX,o=r.touches[0].clientY}else{var r;e=(r=t).clientX,o=r.clientY}var i=n.containerElement.getBoundingClientRect();return{x:e-i.left,y:o-i.top}},n.draw=function(t){t.preventDefault(),t.stopPropagation(),n.touchDraw(t)},n.touchDraw=function(t){var e=n.getCursorCoordinates(t),o=e.x,r=e.y;void 0!==o&&void 0!==r&&(n.setState({x:o,y:r}),n.state.isDrawing&&n.brushTool.strokePosition({x:o,y:r}))},n.start=function(t){n.brushTool.clickableCanvas(!1),n.setState({isDrawing:!0}),n.brushTool.beginStroke()},n.stop=function(t){n.state.isDrawing&&(t.preventDefault(),t.stopPropagation(),n.setState({isDrawing:!1}),n.brushTool.endStroke(),n.brushTool.clickableCanvas(!0))},n.setInitialPosition=function(){n.setState(r({},n.INITIAL_POSITION))},n.mouseOut=function(t){t.preventDefault(),t.stopPropagation();var e=n.getCursorCoordinates(t),o=e.x,r=e.y;if(o&&r){var i=n.containerElement.getBoundingClientRect();(o<0||r<0||o>i.width||r>i.height||r<A.canvas.bar.height)&&n.setInitialPosition()}},n.touchEnd=function(t){t.preventDefault(),t.stopPropagation();var e=n.state,o=e.x,r=e.y;o&&r&&n.setInitialPosition()},n.getCursor=function(){var t=n.state,e=t.x,o=t.y;if(e&&o){var r=I(n.brushTool.color),i=n.brushTool.sizeOnScreenSpace+"px",a={left:n.state.x+"px",top:n.state.y+"px",borderColor:r,height:i,width:i};return c.createElement(Do,{style:a})}return null},n}return n(e,t),e.prototype.componentDidMount=function(){this.containerElement=document.getElementById("CursorContainer"),document.addEventListener("mouseup",this.stop,!1),document.addEventListener("touchend",this.stop,{passive:!1})},e.prototype.componentWillUnmount=function(){document.removeEventListener("mouseup",this.stop,!1),document.removeEventListener("touchend",this.stop,!1)},Object.defineProperty(e.prototype,"brushTool",{get:function(){return this.props.brushTool},enumerable:!0,configurable:!0}),e.prototype.render=function(){return c.createElement(To,{id:"CursorContainer",onMouseMove:this.draw,onTouchMove:this.touchDraw,onMouseDown:this.start,onTouchStart:this.start,onMouseOut:this.mouseOut,onTouchEnd:this.touchEnd},this.getCursor())},e}(c.Component),Ao=kt("brushTool")(Gt(Po)),Oo=L.div(to||(to=t(["\n  overflow: hidden;\n  display: inline-block;\n  position: relative;\n  transform: unset !important;\n  vertical-align: bottom;\n"],["\n  overflow: hidden;\n  display: inline-block;\n  position: relative;\n  transform: unset !important;\n  vertical-align: bottom;\n"]))),Io=L.div(no||(no=t(["\n  position: relative;\n  cursor: pointer;\n"],["\n  position: relative;\n  cursor: pointer;\n"]))),Bo=L.div(eo||(eo=t(["\n  font-size: 15px;\n  display: inline-block;\n  width: 33px;\n  text-align: center;\n  color: ",";\n  z-index: 2;\n  margin: 2px;\n"],["\n  font-size: 15px;\n  display: inline-block;\n  width: 33px;\n  text-align: center;\n  color: ",";\n  z-index: 2;\n  margin: 2px;\n"])),(function(t){return t.theme.foreground})),Ro=L.div(oo||(oo=t(["\n  transform: translate(0, 0) !important;\n"],["\n  transform: translate(0, 0) !important;\n"]))),Mo=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.SLIDER_WIDTH=213,n.MAX_ROTATION=45,n.DEGREES_PER_PIXEL=2*n.MAX_ROTATION/n.SLIDER_WIDTH,n.drag=function(t,e){var o=e.x,r=n.transformTool.defaultAngle+o*n.DEGREES_PER_PIXEL,i=Math.min(n.MAX_ROTATION,Math.max(r,-1*n.MAX_ROTATION));n.transformTool.setRotation(parseInt(i+"",10))},n.stop=function(){n.transformTool.setDefaultAngle(n.transformTool.rotationInDegrees),n.transformTool.addSnapshot()},n}return n(e,t),Object.defineProperty(e.prototype,"transformTool",{get:function(){return this.props.transformTool},enumerable:!0,configurable:!0}),e.prototype.render=function(){var t=this.transformTool.rotationInDegrees-this.transformTool.defaultAngle;return c.createElement(Io,null,c.createElement(O.Draggable,{axis:"x",position:{x:0,y:0},onStart:this.drag,onDrag:this.drag,onStop:this.stop,updateOnPosition:!0},c.createElement(Ro,null,c.createElement(Oo,null,c.createElement(B.dots,{width:90,height:15,x:2*t})),c.createElement(Bo,null,this.props.transformTool.rotationInDegrees,"°"),c.createElement(Oo,null,c.createElement(B.dots,{width:90,height:15,x:2*t})))))},e}(c.Component),Lo=kt("transformTool")(Gt(Mo)),zo=L(O.Button.Index)(ro||(ro=t([" align-self: center; color: ",";"],[" align-self: center; color: ",";"])),(function(t){return t.theme.foreground})),_o=L(Ue.Bar.ButtonGroup)(io||(io=t(["\n  transform: scale(0.9);\n\n  @media all and (min-width: 0) and (max-width: 599px) {\n    transform: scale(0.7);\n  }\n"],["\n  transform: scale(0.9);\n\n  @media all and (min-width: 0) and (max-width: 599px) {\n    transform: scale(0.7);\n  }\n"]))),jo=kt("transformTool","config")(Gt((function(t){var n=t.transformTool,e=t.config,o=c.createElement(zo,{ariaLabel:"Flip Horizontal",onClick:n.flipHorizontally},c.createElement(Fo,null)),r=c.createElement(zo,{ariaLabel:"Flip Vertical",onClick:n.flipVertically},c.createElement(No,null)),i=c.createElement(zo,{ariaLabel:"Rotate Clockwise",onClick:n.rotateClockwise},c.createElement(Uo,{alt:"Rotate Clockwise"})),a=c.createElement(zo,{ariaLabel:"Rotate Anticlockwise",onClick:n.rotateAntiClockwise},c.createElement(Wo,{alt:"Rotate Anticlockwise"})),s=e.isLayoutAdvanced?{transform:"rotate(180deg)"}:{};return c.createElement(_o,{style:s},n.config.enableFlip&&o||null,n.config.enableFlip&&r||null,n.config.enableRotation&&c.createElement(Lo,null)||null,n.config.enableRotation&&a||null,n.config.enableRotation&&i||null)}))),Uo=L(B.rotate)(ao||(ao=t(["\n  height: 16px;\n  width: 16px;\n  transform: scaleX(-1);\n"],["\n  height: 16px;\n  width: 16px;\n  transform: scaleX(-1);\n"]))),Wo=L(B.rotate)(so||(so=t(["\n  height: 16px;\n  width: 16px;\n"],["\n  height: 16px;\n  width: 16px;\n"]))),Fo=L(B.flipHorizontal)(lo||(lo=t(["\n  height: 16px;\n  width: 16px;\n"],["\n  height: 16px;\n  width: 16px;\n"]))),No=L(B.flipVertical)(co||(co=t(["\n  height: 16px;\n  width: 16px;\n"],["\n  height: 16px;\n  width: 16px;\n"]))),Ko=Ue.Crop.GridLine,Ho=Ue.Crop.Box,Go=Ue.Crop.Control,Xo=O.Draggable,Vo=L(Go)(uo||(uo=t(["\n  border-width: 2px 0px 0px 2px;\n  left: 0px;\n  top: 0px;\n  cursor: nwse-resize;\n"],["\n  border-width: 2px 0px 0px 2px;\n  left: 0px;\n  top: 0px;\n  cursor: nwse-resize;\n"]))),$o=L(Go)(po||(po=t(["\n  border-width: 2px 2px 0px 0px;\n  left: -16px;\n  top: 0px;\n  cursor: nesw-resize;\n"],["\n  border-width: 2px 2px 0px 0px;\n  left: -16px;\n  top: 0px;\n  cursor: nesw-resize;\n"]))),Yo=L(Go)(fo||(fo=t(["\n  border-width: 0px 2px 2px 0px;\n  left: -16px;\n  top: -16px;\n  cursor: nwse-resize;\n"],["\n  border-width: 0px 2px 2px 0px;\n  left: -16px;\n  top: -16px;\n  cursor: nwse-resize;\n"]))),Zo=L(Go)(ho||(ho=t(["\n  border-width: 0px 0px 2px 2px;\n  top: -16px;\n  left: 0px;\n  cursor: nesw-resize;\n"],["\n  border-width: 0px 0px 2px 2px;\n  top: -16px;\n  left: 0px;\n  cursor: nesw-resize;\n"]))),Jo=kt("transformTool")(Gt((function(t){var n=t.transformTool,e=n.leftTop,o=n.leftBottom,i=n.rightTop,a=n.rightBottom,s=n.size,l=s.height,u=s.width,p=n.defaultSize,d=n.defaultPosition,f=r({},p,{left:d.x,top:d.y}),h={height:l,width:u},m=n.isDragMode?{transition:"unset"}:{};return c.createElement("div",{style:r({},f,{position:"absolute"})},c.createElement(Xo,{bounds:"parent",position:e,onStart:function(t,e){var o=e.x,r=e.y;n.setDragMode(!0),n.clickableCanvas(!1),n.changePosition({x:o,y:r})},onDrag:function(t,e){var o=e.x,r=e.y;n.changePosition({x:o,y:r})},onStop:function(t,e){var o=e.x,r=e.y;n.setDragMode(!1),n.changePosition({x:o,y:r}),n.clickableCanvas(!0),n.addSnapshot()}},c.createElement(Ho,{style:r({},h,m)})),c.createElement(Ko,{style:r({left:e.x+u/3,top:e.y,height:l,width:1},m)}),c.createElement(Ko,{style:r({left:e.x+u/3*2,top:e.y,height:l,width:1},m)}),c.createElement(Ko,{style:r({left:e.x,top:e.y+l/3,height:1,width:u},m)}),c.createElement(Ko,{style:r({left:e.x,top:e.y+l/3*2,height:1,width:u},m)}),c.createElement(Xo,{bounds:"parent",position:r({},e),onStart:function(t,e){var o=e.x,r=e.y;n.setDragMode(!0),n.clickableCanvas(!1),n.onLeftTop({x:o,y:r})},onDrag:function(t,e){var o=e.x,r=e.y;n.onLeftTop({x:o,y:r})},onStop:function(t,e){var o=e.x,r=e.y;n.setDragMode(!1),n.onLeftTop({x:o,y:r}),n.clickableCanvas(!0),n.addSnapshot()}},c.createElement(Vo,{style:m})),c.createElement(Xo,{bounds:"parent",position:o,onStart:function(t,e){var o=e.x,r=e.y;n.setDragMode(!0),n.clickableCanvas(!1),n.onLeftBottom({x:o,y:r})},onDrag:function(t,e){var o=e.x,r=e.y;n.onLeftBottom({x:o,y:r})},onStop:function(t,e){var o=e.x,r=e.y;n.setDragMode(!1),n.onLeftBottom({x:o,y:r}),n.clickableCanvas(!0),n.addSnapshot()}},c.createElement(Zo,{style:m})),c.createElement(Xo,{bounds:"parent",position:i,onStart:function(t,e){var o=e.x,r=e.y;n.setDragMode(!0),n.clickableCanvas(!1),n.onRightTop({x:o,y:r})},onDrag:function(t,e){var o=e.x,r=e.y;n.onRightTop({x:o,y:r})},onStop:function(t,e){var o=e.x,r=e.y;n.setDragMode(!1),n.onRightTop({x:o,y:r}),n.clickableCanvas(!0),n.addSnapshot()}},c.createElement($o,{style:m})),c.createElement(Xo,{bounds:"parent",position:a,onStart:function(t,e){var o=e.x,r=e.y;n.setDragMode(!0),n.clickableCanvas(!1),n.onRightBottom({x:o,y:r})},onDrag:function(t,e){var o=e.x,r=e.y;n.onRightBottom({x:o,y:r})},onStop:function(t,e){var o=e.x,r=e.y;n.setDragMode(!1),n.onRightBottom({x:o,y:r}),n.clickableCanvas(!0),n.addSnapshot()}},c.createElement(Yo,{style:m})))}))),Qo=Ue.Bar.Index,qo=Ue.Crop.Backdrop,tr=kt("transformTool","canvas","config","scale")(Gt((function(t){var n=t.transformTool,e=t.canvas,o=t.config,i=t.scale,a=n.leftTop,s=n.leftBottom,l=n.rightTop,u=n.size.height,p=e.canvasSize,d=p.height,f=p.width,h=n.defaultPosition,m=n.isDragMode?{transition:"unset"}:{};return c.createElement(Ue.Controls.Container,null,c.createElement(qo,{style:r({left:0,top:0,width:f,height:a.y+h.y},m)}),c.createElement(qo,{style:r({left:0,top:a.y+h.y,width:h.x+a.x,height:u},m)}),c.createElement(qo,{style:r({left:l.x+h.x,top:l.y+h.y,width:f-l.x-h.x,height:u},m)}),c.createElement(qo,{style:r({left:0,top:s.y+h.y,width:f,height:d-s.y-h.y},m)}),c.createElement(Jo,null),o.isLayoutAdvanced?c.createElement(Qo,{transparentBackgound:i.doesBottomOverlap,bottom:!0},c.createElement(jo,null)):null)}))),nr=L(Ue.Controls.Container)(go||(go=t(["\n  ","\n  z-index: 3;\n"],["\n  ","\n  z-index: 3;\n"])),(function(n){return n.activeCursor?z(mo||(mo=t(["cursor: move;"],["cursor: move;"]))):""})),er=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.INITIAL_POSITION={x:void 0,y:void 0},n.state=r({},n.INITIAL_POSITION,{isDragging:!1}),n.getCursorCoordinates=function(t){var e=0,o=0;if(-1!==t.type.indexOf("touch")){if(!(r=t).touches.length)return n.INITIAL_POSITION;e=r.touches[0].clientX,o=r.touches[0].clientY}else{var r;e=(r=t).clientX,o=r.clientY}var i=n.container.getBoundingClientRect();return{x:e-i.left,y:o-i.top}},n.move=function(t){if(n.scale.canDrag){var e=n.getCursorCoordinates(t),o=e.x,r=e.y;if(void 0!==o&&void 0!==r&&n.state.isDragging){var i={x:n.state.x-o,y:n.state.y-r};n.scale.setOffset(i)}}},n.touchDrag=function(t){if(n.scale.canDrag){var e=n.getCursorCoordinates(t),o=e.x,r=e.y;void 0!==o&&void 0!==r&&n.setState({x:o,y:r,isDragging:!0})}},n.drag=function(t){t.preventDefault(),n.touchDrag(t)},n.stop=function(){n.scale.canDrag&&(n.scale.savePosition(),n.setState(r({},n.INITIAL_POSITION,{isDragging:!1})))},n.touchEnd=function(t){t.preventDefault(),t.stopPropagation();var e=n.state,o=e.x,i=e.y;o&&i&&n.setState(r({},n.INITIAL_POSITION,{isDragging:!1}))},n}return n(e,t),e.prototype.componentDidMount=function(){this.container=document.getElementById("DragImage"),document.addEventListener("mouseup",this.stop,!1),document.addEventListener("touchend",this.stop,{passive:!0})},e.prototype.componentWillUnmount=function(){document.removeEventListener("mouseup",this.stop,!1),document.removeEventListener("touchend",this.stop,!1)},Object.defineProperty(e.prototype,"scale",{get:function(){return this.props.scale},enumerable:!0,configurable:!0}),e.prototype.render=function(){return c.createElement(nr,{id:"DragImage",onMouseMove:this.move,onTouchMove:this.move,onMouseDown:this.drag,onTouchStart:this.touchDrag,onMouseUp:this.stop,onTouchEnd:this.touchEnd,activeCursor:this.scale.canDrag})},e}(c.Component),or=kt("scale")(Gt(er)),rr=L.img(bo||(bo=t(["\n  position: absolute;\n  left: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"],["\n  position: absolute;\n  left: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"]))),ir=L.img(vo||(vo=t(["\n  position: absolute;\n  right: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"],["\n  position: absolute;\n  right: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"]))),ar=new e(0,0),sr=new e(0,0),lr=kt("sprite")(Gt((function(t){var n=t.sprite,o=n.leftMidPadPosition,r=n.rightMidPadPosition,i=function(t,i){n.setDragMode(!0),n.clickableCanvas(!1);var a=t.clientX,s=t.clientY;ar=new e(a,s),sr=new e("left"===i?o:r)},a=function(){n.clickableCanvas(!0),n.setDragMode(!1),n.addSnapshot("edit",n.textDesignLocale.padding),ar=new e(0,0),sr=new e(0,0)},s=function(t){var o=t.clientX,r=t.clientY;if(void 0!==o&&void 0!==r){var i=sr.subtract(ar.subtract(new e(o,r)));n.onPaddingDrag(i)}};return c.createElement(c.Fragment,null,c.createElement(O.Draggable,{onStart:function(t){return i(t,"left")},onDrag:s,onStop:a},c.createElement(rr,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAANJJREFUSA3tlEsKwjAURUv9Vq3gBlyjKxF/c0EQxIEgggjiwP/ILbgU6ykYuLMGeRlp4JJH+3JOEmij6D9C3UCWZTWSBOEDbpM7eZCOqQRgSm7EjZ6ZAGIOvzoycz8kfGAJb7Hbi+x8aA0/C3xkCW8CPgl8bA0/CnzyDTwuWPSS9wmyon5p9ygBNshBTjGlNpfkO9+LZBZCUge6E8mcuuRxCf4tAPOf21YkC+qyP8Gj8yPZiGQZQlIFuhaJ3VftDgm8QlbkSbruuekMOCapKfQ3YW/1Myhh/78bMQAAAABJRU5ErkJggg=="})),c.createElement(O.Draggable,{onStart:function(t){return i(t,"right")},onDrag:s,onStop:a},c.createElement(ir,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAPhJREFUSA3tlLkKwlAQRYOVnXZ+gEshIiJ+hAgiCBJc8Sf8XgsVFBVLt2g8UwhBMomZtLlwIMxy3uMVcZwsaV/A9/1iWoe6j3wFV+iqQ9YG0hJcQHKDntWl7iHtwPeQO999ddjaQNqGM0geMLC61D2kLTiBRA4ZqsPWBtImHEHyhJHVpe4hbcABJHKIqw5bG0jrsAeJB5MoVy6qqfQ86u9AL/gdKBs+uW0NdiCR248NmvAVZFUIyiOfJtyiVBFXYAuSF0yV0eRlZL/yWXKLsoG8DBuQyM3nymjyMrI8rEEi8kVyS8wGUhfkJ7eMGbW3kRfs29nmHy/wAUVpDIFPWLFFAAAAAElFTkSuQmCC"})))}))),cr=L(Ue.Controls.Width)(hr||(hr=t(["\n  cursor: ew-resize;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    display: none;\n  }\n"],["\n  cursor: ew-resize;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    display: none;\n  }\n"]))),ur=L(cr)(mr||(mr=t(["\n  left: -3px;\n  top: calc(50% - ","px);\n"],["\n  left: -3px;\n  top: calc(50% - ","px);\n"])),(function(t){return t.theme.measurements.canvas.width.size/2})),pr=L(cr)(gr||(gr=t(["\n  right: -3px;\n  top: calc(50% - ","px);\n"],["\n  right: -3px;\n  top: calc(50% - ","px);\n"])),(function(t){return t.theme.measurements.canvas.width.size/2})),dr=new e(0,0),fr=new e(0,0);ur.defaultProps={theme:P},pr.defaultProps={theme:P};var hr,mr,gr,br=kt("sprite","textTool")(Gt((function(t){var n=t.sprite,o=t.textTool,r=n.leftMidPadPosition,i=n.rightMidPadPosition,a=function(t,o){n.setDragMode(!0),n.clickableCanvas(!1);var a=t.clientX,s=t.clientY;dr=new e(a,s),fr=new e("left"===o?r:i)},s=function(){n.clickableCanvas(!0),n.setDragMode(!1),n.addSnapshot("edit",n.textLocale.width),n.setDefaultSize(),o.updateDefaultFontSize(),dr=new e(0,0),fr=new e(0,0)},l=function(t){var o=t.clientX,r=t.clientY;if(void 0!==o&&void 0!==r){var i=fr.subtract(dr.subtract(new e(o,r)));n.onWidthDrag(i)}};return c.createElement(c.Fragment,null,c.createElement(O.Draggable,{onStart:function(t){return a(t,"left")},onDrag:l,onStop:s},c.createElement(ur,null)),c.createElement(O.Draggable,{onStart:function(t){return a(t,"right")},onDrag:l,onStop:s},c.createElement(pr,null)))}))),vr=kt("textTool","sprite","custom")(Gt((function(t){var n,e=t.textTool,o=t.sprite,r=t.custom,a=e.locale.canvasActions,s=((n={})[i.EDIT]={key:i.EDIT,customButtonKey:"canvasActionEdit",onClick:function(){return e.setEditMode(!0)},label:a.buttonEdit,icon:c.createElement(B.edit,null)},n[i.BRING_TO_FRONT]={key:i.BRING_TO_FRONT,customButtonKey:"canvasActionBringToFront",onClick:function(t){t.stopPropagation(),e.bringToFront()},label:a.buttonBringToFront,icon:c.createElement(B.bringToFront,null)},n[i.DUPLICATE]={key:i.DUPLICATE,customButtonKey:"canvasActionDuplicate",onClick:function(){return e.duplicate()},label:a.buttonDuplicate,icon:c.createElement(B.duplicate,null)},n[i.DELETE]={key:i.DELETE,customButtonKey:"canvasActionDelete",onClick:function(t){t.stopPropagation(),e.delete()},label:a.buttonDelete,icon:c.createElement(B.delete,null)},n),l=e.config.canvasActions.map((function(t){return s[t]?function(t){var n=t.key,e=t.customButtonKey,o=t.onClick,i=t.label,a=t.icon,s=c.createElement(Ue.Controls.SpriteActionButton,{ariaLabel:i,key:n,onClick:o,icon:a,showIconOnlyOnMobile:!0},i);return r.getButton(e)({key:n,label:i,onClick:o,icon:a})||s}(s[t]):null}));return o.isSpriteText?c.createElement(Ue.Bar.ButtonGroup,null,l):null}))),xr=kt("stickerTool","custom")(Gt((function(t){var n,e=t.stickerTool,o=t.custom,r=e.locale.canvasActions,a=((n={})[i.BRING_TO_FRONT]={key:i.BRING_TO_FRONT,customButtonKey:"canvasActionBringToFront",onClick:function(t){t.stopPropagation(),e.bringToFront()},label:r.buttonBringToFront,icon:c.createElement(B.bringToFront,null)},n[i.FLIP]={key:i.FLIP,customButtonKey:"canvasActionFlip",onClick:function(t){t.stopPropagation(),e.flipHorizontally()},label:r.buttonFlipHorizontal,icon:c.createElement(B.flipHorizontal,null)},n[i.DUPLICATE]={key:i.DUPLICATE,customButtonKey:"canvasActionDuplicate",onClick:function(){return e.duplicate()},label:r.buttonDuplicate,icon:c.createElement(B.duplicate,null)},n[i.DELETE]={key:i.DELETE,customButtonKey:"canvasActionDelete",onClick:function(t){t.stopPropagation(),e.delete()},label:r.buttonDelete,icon:c.createElement(B.delete,null)},n),s=e.config.canvasActions.map((function(t){return a[t]?function(t){var n=t.key,e=t.customButtonKey,r=t.onClick,i=t.label,a=t.icon,s=c.createElement(Ue.Controls.SpriteActionButton,{ariaLabel:i,key:n,onClick:r,icon:a,showIconOnlyOnMobile:!0},i);return o.getButton(e)({key:n,label:i,onClick:r,icon:a})||s}(a[t]):null}));return e.isStickerSelected?c.createElement(Ue.Bar.ButtonGroup,null,s):null}))),yr=kt("textDesignTool","custom")(Gt((function(t){var n,e=t.textDesignTool,o=t.custom,r=e.locale.canvasActions,a=((n={})[i.EDIT]={key:i.EDIT,customButtonKey:"canvasActionEdit",onClick:function(){return e.setEditMode(!0)},label:r.buttonEdit,icon:c.createElement(B.edit,null)},n[i.BRING_TO_FRONT]={key:i.BRING_TO_FRONT,customButtonKey:"canvasActionBringToFront",onClick:function(t){t.stopPropagation(),e.bringToFront()},label:r.buttonBringToFront,icon:c.createElement(B.bringToFront,null)},n[i.INVERT]={key:i.INVERT,customButtonKey:"canvasActionInvert",onClick:function(t){t.stopPropagation(),e.invertBackground()},label:r.buttonInvert,icon:c.createElement(B.flipHorizontal,null)},n[i.DUPLICATE]={key:i.DUPLICATE,customButtonKey:"canvasActionDuplicate",onClick:function(){return e.duplicate()},label:r.buttonDuplicate,icon:c.createElement(B.duplicate,null)},n[i.DELETE]={key:i.DELETE,customButtonKey:"canvasActionDelete",onClick:function(t){t.stopPropagation(),e.delete()},label:r.buttonDelete,icon:c.createElement(B.delete,null)},n),s=e.config.canvasActions.map((function(t){return a[t]?function(t){var n=t.key,e=t.customButtonKey,r=t.onClick,i=t.label,a=t.icon,s=c.createElement(Ue.Controls.SpriteActionButton,{ariaLabel:i,key:n,onClick:r,icon:a,showIconOnlyOnMobile:!0},i);return o.getButton(e)({key:n,label:i,onClick:r,icon:a})||s}(a[t]):null}));return e.isTextDesignSelected?c.createElement(Ue.Bar.ButtonGroup,null,s):null}))),wr=A.canvas.sprite.controlOffset,Cr=A.canvas.sprite.rotateHandle.height,Er=A.canvas.bar.height,Sr=A.canvas.sprite.controlPadding,kr=function(t){function e(n){var e=t.call(this,n)||this;return e.actionsRef=null,e.spriteControlPosition=function(){var t=e.props.sprite.size.height,n=e.props.sprite.position,o=e.props.sprite.rotationWRTOutputRotation,r=e.actionsRef.current,i=e.props.spriteRef.current,a=document.getElementById("CanvasContainer");if(r&&i&&a){var s=i.getBoundingClientRect(),l=r.getBoundingClientRect(),c=a.getBoundingClientRect(),u={top:s.top-c.top,left:s.left-c.left,right:c.right-s.right,bottom:c.bottom-s.bottom},p=Math.abs(s.left-s.right),d=Math.abs(s.top-s.bottom),f=wr,h=wr,m=wr+Er+l.height,g=u.left<f,b=u.right<h,v=u.top<m,x=u.left+p/2,y={x:x,y:u.top-wr},w={x:-50,y:-100};v&&(y.y=u.top+d+wr+Cr,w.y=0),g&&(y.x=f,w.x=0),b&&(y.x=c.width-wr,w.x=-100);var C=u.left<wr&&u.right>c.width-wr,E=v&&u.bottom>c.height;if(C&&(y.x=x),E&&(y.y=u.top+d/2),v||g||b||C||E||o)return{transform:"translate("+w.x+"%, "+w.y+"%)",left:y.x+"px",top:y.y-Sr/2+"px"}}return{left:n.x+"px",top:n.y-wr-t/2-Sr/2+"px"}},e.getSpriteControls=function(){switch(e.props.sprite.tool){case a.TEXT:return c.createElement(vr,null);case a.TEXT_DESIGN:return c.createElement(yr,null);case a.STICKER:return c.createElement(xr,null)}return null},e.actionsRef=c.createRef(),e}return n(e,t),e.prototype.render=function(){var t=this.props.sprite,n=!t.isDragMode&&!t.isEditMode;if(t.isSpriteSelected){var e=this.spriteControlPosition();return c.createElement(Ue.Controls.SpriteActionsWrapper,{ref:this.actionsRef,show:n,style:e},this.getSpriteControls())}return null},e}(c.Component),Tr=kt("sprite","config")(Gt(kr)),Dr=L(Ue.Controls.Knob)(Or||(Or=t(["\n  margin-left: -11px;\n  margin-top: 0px;\n  &:before {\n    top: unset;\n    bottom: 0px;\n    left: calc(50% - ","px);\n  }\n"],["\n  margin-left: -11px;\n  margin-top: 0px;\n  &:before {\n    top: unset;\n    bottom: 0px;\n    left: calc(50% - ","px);\n  }\n"])),(function(t){return t.theme.measurements.canvas.knob.size/2})),Pr=new e(0,0),Ar=new e(0,0);Dr.defaultProps={theme:P};var Or,Ir,Br=kt("sprite","snapping","editor")(Gt((function(t){var n=t.sprite,o=t.snapping,r=n.rightBottomHandlePosition,i=n.leftBottomHandlePosition,a={x:(r.x+i.x)/2,y:(r.y+i.y)/2},s=function(t){var r=t.clientX,i=t.clientY;if(void 0!==r&&void 0!==i){var a=Ar.subtract(Pr.subtract(new e(r,i))),s=n.position,l=new e(s.x,s.y),c=a.subtract(l),u=Math.atan2(c.y,c.x)-Math.PI/2,p=o.snapToRotation(u,c,n.currentRect);n.setRotation(p)}};return c.createElement(O.Draggable,{onStart:function(t){var o=t.clientX,r=t.clientY;Pr=new e(o,r),Ar=new e(a),n.setDragMode(!0),n.clickableCanvas(!1)},onDrag:function(t){s(t)},onStop:function(){n.clickableCanvas(!0),n.setDragMode(!1),n.spriteSnapshot("rotation"),o.hideRotationGuides(),Pr=new e(0,0),Ar=new e(0,0)}},c.createElement(Dr,null))}))),Rr=Ue.Controls.Corner,Mr=O.Draggable,Lr=A.canvas.corner.borderWidth,zr=new e(0,0),_r=new e(0,0),jr=kt("sprite")(Gt((function(t){var n=t.sprite,o=n.leftTopPosition,r=n.leftBottomPosition,i=n.rightTopPosition,a=n.rightBottomPosition,s=function(t){var o=t.clientX,r=t.clientY;if(void 0!==o&&void 0!==r){var i=_r.subtract(zr.subtract(new e(o,r)));n.onCornerDrag(i)}},l=function(t,s){var l=t.clientX,c=t.clientY;zr=new e(l,c),_r=new e(function(t){switch(t){case"leftTop":return o;case"leftBottom":return r;case"rightTop":return i;case"rightBottom":return a}}(s)),n.clickableCanvas(!1),n.setDragMode(!0)},u=function(t){n.clickableCanvas(!0),n.setDragMode(!1),n.spriteSnapshot("size"),zr=new e(0,0),_r=new e(0,0)};return c.createElement(c.Fragment,null,c.createElement(Mr,{onStop:u,onDrag:s,onStart:function(t){return l(t,"leftTop")}},c.createElement(Rr,{vertical:"top",horizontal:"left",borderWidth:Lr})),c.createElement(Mr,{onStop:u,onDrag:s,onStart:function(t){return l(t,"leftBottom")}},c.createElement(Rr,{vertical:"bottom",horizontal:"left",borderWidth:Lr})),c.createElement(Mr,{onStop:u,onDrag:s,onStart:function(t){return l(t,"rightTop")}},c.createElement(Rr,{vertical:"top",horizontal:"right",borderWidth:Lr})),c.createElement(Mr,{onStop:u,onDrag:s,onStart:function(t){return l(t,"rightBottom")}},c.createElement(Rr,{vertical:"bottom",horizontal:"right",borderWidth:Lr})))}))),Ur=A.canvas.sprite.controlPadding,Wr=O.Draggable,Fr=new e(0,0),Nr=new e(0,0),Kr=function(t){function o(n){var o=t.call(this,n)||this;return o.spriteRef=null,o.onAreaDrag=function(t){var n=t.clientX,r=t.clientY,i=o.props.snapping,a=Nr.subtract(Fr.subtract(new e(n,r))),s=i.snapToPosition({x:a.x,y:a.y},o.sprite.currentRect),l=s.x,c=s.y;o.sprite.setPosition({x:l,y:c})},o.onAreaDragStart=function(t){var n=o.props.snapping,r=t.clientX,i=t.clientY;Fr=new e(r,i),Nr=new e(o.sprite.position),o.sprite.setDragMode(!0),n.updateGuides()},o.onAreaDragStop=function(){var t=o.props.snapping;Fr=new e(0,0),Nr=new e(0,0),o.sprite.setDragMode(!1),o.sprite.spriteSnapshot("position"),t.hidePositionGuides()},o.onDoubleClick=function(t){t.preventDefault(),t.stopPropagation(),o.sprite.setEditMode(!0)},o.isSpriteSelected=function(){var t=o.props.active.tool,n=o.sprite.tool;return o.sprite.isSpriteSelected&&t===n},o.spriteRef=c.createRef(),o}return n(o,t),Object.defineProperty(o.prototype,"sprite",{get:function(){return this.props.sprite},enumerable:!0,configurable:!0}),o.prototype.render=function(){var t=this.props.sprite;if(!this.isSpriteSelected())return null;var n=this.sprite.isSpriteText,e=this.sprite.isSpriteTextDesign&&this.sprite.textDesignToolStore.isInverted,o=t.size,r=o.height,i=o.width,a=t.spritePosition,s=t.rotationWRTOutputRotation;return c.createElement(Ue.Controls.Container,null,c.createElement(Wr,{onStart:this.onAreaDragStart,onDrag:this.onAreaDrag,onStop:this.onAreaDragStop,rotation:s,position:a},c.createElement(Ue.Controls.Sprite,{ref:this.spriteRef,onDoubleClick:this.onDoubleClick,height:r,width:i},n&&c.createElement(br,null)||null,e&&c.createElement(lr,null)||null,c.createElement(jr,null),c.createElement(Ue.Controls.RotateHandle,{x:i/2+Ur/2},c.createElement(Br,null)))),c.createElement(Tr,{spriteRef:this.spriteRef}))},o}(c.Component),Hr=kt("sprite","active","snapping")(Gt(Kr)),Gr=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.getControls=function(t){switch(n.props.active.tool){case a.FOCUS:return c.createElement(ko,null);case a.TEXT:case a.TEXT_DESIGN:case a.STICKER:return c.createElement(Hr,null);case a.BRUSH:return c.createElement(Ao,null);case a.TRANSFORM:return c.createElement(tr,null);default:return c.createElement(Ue.Controls.Container,null,t)}},n.canvasClicked=function(t){if(t.preventDefault(),t.stopPropagation(),n.props.canvas.isCanvasClickable){var e=t.clientX,o=t.clientY;if(-1!==t.type.indexOf("touch")){var r=t;if(!r.touches.length)return;e=r.touches[0].clientX,o=r.touches[0].clientY}var i=n.containerElement.getBoundingClientRect(),a=e-i.left,s=o-i.top;n.props.canvas.getContainersAtPreviewPoint({x:a,y:s})}},n.onKeyDown=function(t){"Tab"===t.code&&n.props.sprite.selectLast()},n}return n(e,t),e.prototype.componentDidMount=function(){this.containerElement=document.getElementById("CanvasContainerClick")},e.prototype.render=function(){var t=this.props.canvas.canvasSize,n={height:t.height,width:t.width};return c.createElement(Ue.Controls.Wrapper,r({"aria-hidden":!0,id:"CanvasContainerClick",onClick:this.canvasClicked,onKeyDown:this.onKeyDown},n),this.getControls(c.createElement(or,null)))},e}(c.Component),Xr=kt("active","canvas","sprite")(Gt(Gr)),Vr=L.div(Ir||(Ir=t(["\n    display: ",";\n    position: absolute;\n    z-index: 7;\n"],["\n    display: ",";\n    position: absolute;\n    z-index: 7;\n"])),(function(t){return t.isVisible?"block":"none"})),$r=function(t){var n=t.isVisible,e=t.className;return c.createElement(Vr,{isVisible:n,className:e})};$r.defaultProps={direction:"horizontal",left:0,top:0};var Yr,Zr,Jr,Qr,qr,ti,ni=L($r)(Jr||(Jr=t(["\n  background: #f0f;\n  ","\n"],["\n  background: #f0f;\n  ","\n"])),(function(n){return"horizontal"===n.direction?z(Yr||(Yr=t(["\n        width: 100%;\n        height: 2px;\n        top: ","px;\n      "],["\n        width: 100%;\n        height: 2px;\n        top: ","px;\n      "])),(function(){return n.position})):z(Zr||(Zr=t(["\n      width: 2px;\n      height: 100%;\n      left: ","px;\n    "],["\n      width: 2px;\n      height: 100%;\n      left: ","px;\n    "])),(function(){return n.position}))})),ei=L($r)(Qr||(Qr=t(["\n  border: none;\n  border-top: 2px dashed #0ff;\n  background: transparent;\n  left: ","px;\n  top: ","px;\n  transform: rotate(","rad);\n  width: 200%;\n"],["\n  border: none;\n  border-top: 2px dashed #0ff;\n  background: transparent;\n  left: ","px;\n  top: ","px;\n  transform: rotate(","rad);\n  width: 200%;\n"])),(function(t){return t.position.x}),(function(t){return t.position.y}),(function(t){return t.rotation})),oi=L.div(qr||(qr=t(["\n  position: relative;\n  width: ","px;\n  height: ","px;\n  overflow: hidden;\n"],["\n  position: relative;\n  width: ","px;\n  height: ","px;\n  overflow: hidden;\n"])),(function(t){return t.width}),(function(t){return t.height})),ri=kt("snapping","editor")(Gt((function(t){var n=t.snapping,e=t.editor.getPreviewSize(),o=e.width,r=e.height,i=n.positionGuides.map((function(t,n){var e=t.direction,o=t.value,r=t.isVisible;return c.createElement(ni,{key:"positionGuide-"+n,direction:e,position:o,isVisible:r})})),a=n.rotationGuides.find((function(t){return t.isVisible}));return c.createElement(oi,{width:o,height:r},i,c.createElement(ei,{key:"rotationGuide",rotation:a?a.value:0,position:a?a.position:{x:0,y:0},isVisible:!!a}))}))),ii=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.componentDidMount=function(){var t=document.getElementById("PreviewCanvas");this.props.canvas.setCanvasElement(t)},e.prototype.render=function(){return c.createElement(Ge,null,this.props.active.isWebcam?c.createElement(Ke,null):null,c.createElement(Ue.Element,{"aria-label":"Canvas",id:"PreviewCanvas"}),c.createElement(ri,null),c.createElement(Xr,null))},e}(c.Component),ai=kt("active","canvas")(Gt(ii)),si=Ue.Button.Tertiary,li=L.span(ti||(ti=t(["\n  font-size: 14px;\n  padding: 3px 1px 2px;\n  color: ",";\n"],["\n  font-size: 14px;\n  padding: 3px 1px 2px;\n  color: ",";\n"])),(function(t){return t.theme.button.hoverForeground})),ci=kt("scale","active")(Gt((function(t){var n=t.scale,e=t.active,o=n.canZoomIn,r=n.canZoomOut,i=n.zoomLevel;return-1!==[a.TRANSFORM,a.BRUSH,a.FOCUS,a.STICKER,a.TEXT,a.TEXT_DESIGN].indexOf(e.tool)?null:c.createElement(Ue.Bar.ButtonGroup,null,c.createElement(si,{ariaLabel:"Zoom out",isDisabled:!r,onClick:n.out},"-"),c.createElement(li,null,i," %"),c.createElement(si,{ariaLabel:"Zoom in",isDisabled:!o,onClick:n.in},"+"))})));li.defaultProps={theme:P};var ui,pi,di,fi,hi=Ue.Button.Tertiary,mi=Ue.Button.Primary,gi=Ue.Button.Secondary,bi=kt("scale","config","editor","history","custom")(Gt((function(t){var n=t.scale,e=t.config,o=t.editor,r=t.history,a=t.custom,s=e.locale.mainCanvasActions,l=r.canUndo,u=r.canRedo,p=(e.config.export,e.config.mainCanvasActions),d=function(){o.export()},f=function(){o.close()},h=function(){var t=c.createElement(R.undo,null),n=c.createElement(hi,{ariaLabel:s.buttonUndo,onClick:r.undo,isDisabled:!l,icon:t,showIconOnlyOnMobile:!0},s.buttonUndo);return a.getButton("canvasUndo")({key:"canvasUndo",onClick:r.undo,isDisabled:!l,label:s.buttonUndo,icon:t})||n},m=function(){var t=c.createElement(R.redo,null),n=c.createElement(hi,{ariaLabel:s.buttonRedo,onClick:r.redo,isDisabled:!u,icon:t,showIconOnlyOnMobile:!0},s.buttonRedo);return a.getButton("canvasRedo")({key:"canvasRedo",onClick:r.redo,isDisabled:!u,label:s.buttonRedo,icon:t})||n},g=function(){var t=c.createElement(R.export,null),n=c.createElement(mi,{ariaLabel:s.buttonExport,onClick:d,icon:t,showIconOnlyOnMobile:!0},s.buttonExport);return a.getButton("canvasExport")({key:"canvasExport",onClick:d,label:s.buttonExport,icon:t})||n},b=function(){if(!e.displayCloseButton)return null;var t=c.createElement(R.close,null),n=c.createElement(gi,{ariaLabel:s.buttonClose,onClick:f,icon:t,showIconOnlyOnMobile:!0},s.buttonClose);return a.getButton("canvasClose")({key:"canvasClose",onClick:f,label:s.buttonClose,icon:t})||n},v=p.map((function(t){switch(t){case i.UNDO:return h;case i.REDO:return m;case i.EXPORT:return g;case i.CLOSE:return b}return null}));return c.createElement(Ue.Bar.Index,{transparentBackgound:n.doesTopOverlap},c.createElement(Ue.Bar.ButtonGroup,null,v[0]&&v[0]()||null,v[1]&&v[1]()||null),e.config.enableZoom?c.createElement(ci,null):null,c.createElement(Ue.Bar.ButtonGroup,null,v[2]&&v[2]()||null,v[3]&&v[3]()||null))}))),vi=L.div(ui||(ui=t(["\n  display: inline-flex;\n  justify-content: space-between;\n  max-width: ","px;\n"],["\n  display: inline-flex;\n  justify-content: space-between;\n  max-width: ","px;\n"])),(function(t){return t.theme.measurements.advanced.toolControlBar.width})),xi=L.span(pi||(pi=t(["\n  font-size: ","px;\n  margin-top: 10px;\n  margin-right: 13px;\n"],["\n  font-size: ","px;\n  margin-top: 10px;\n  margin-right: 13px;\n"])),O.Common.FontSize.Label2),yi=L(O.Input.Label)(di||(di=t(["\n  position: absolute;\n  right: 8px;\n  top: 8px;\n"],["\n  position: absolute;\n  right: 8px;\n  top: 8px;\n"]))),wi=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.onWidthChange=function(t){n.props.onChangeWidth(parseInt(t,10)||0)},n.onHeightChange=function(t){n.props.onChangeHeight(parseInt(t,10)||0)},n.onKeyUpWidth=function(t){13===t.keyCode&&n.props.onBlurWidth()},n.onKeyUpHeight=function(t){13===t.keyCode&&n.props.onBlurHeight()},n.onBlurHeight=function(){n.props.onBlurHeight()},n.onBlurWidth=function(){n.props.onBlurWidth()},n}return n(e,t),e.prototype.render=function(){var t=this.props,n=t.label,e=t.showLabel,o=t.isDisabled,r=t.labelWidth,i=t.labelHeight,a=t.valueWidth,s=t.valueHeight;return c.createElement("div",null,c.createElement(O.Input.Label,{name:n,show:e}),c.createElement(vi,null,c.createElement(O.Input.Text,{id:r.replace(" ","-"),value:a,isDisabled:o,onChange:this.onWidthChange,onBlur:this.onBlurWidth,onKeyUp:this.onKeyUpWidth},c.createElement(yi,{name:r,htmlFor:r.replace(" ","-")})),c.createElement(xi,null,"x"),c.createElement(O.Input.Text,{id:i.replace(" ","-"),value:s,isDisabled:o,onChange:this.onHeightChange,onBlur:this.onBlurHeight,onKeyUp:this.onKeyUpHeight},c.createElement(yi,{name:i,htmlFor:i.replace(" ","-")}))))},e.defaultProps={showLabel:!0},e}(c.Component),Ci=kt("textTool","textDesignTool","modal","custom")(Gt((function(t){var n=t.modal,e=t.textTool,o=t.textDesignTool,i=t.custom,a=n.type,s=n.positionOffset;switch(a){case M.INFO:var l=n.infoModalProps;if("loading"===n.identifier)return i.getLoader(r({},l,{position:s}));var u=n.infoModalProps;return c.createElement(O.Loader,r({},u,{position:s}));case M.TEXT_EDIT:if(e.isTextSelected)return c.createElement(O.Input.TextEdit,{defaultText:e.defaultText,show:n.show,save:e.changeText,close:e.setEditMode,text:e.text,position:s,saveLabel:e.locale.canvasControls.buttonSave,closeLabel:e.locale.canvasControls.buttonClose,editLabel:e.locale.canvasControls.inputText});if(o.isTextDesignSelected)return c.createElement(O.Input.TextEdit,{defaultText:o.defaultText,show:n.show,save:o.changeText,close:o.setEditMode,text:o.text,position:s,saveLabel:e.locale.canvasControls.buttonSave,closeLabel:e.locale.canvasControls.buttonClose,editLabel:e.locale.canvasControls.inputText});default:var p=n.modalProps;return c.createElement(O.Modal,r({},p,{position:s}))}}))),Ei=function(t,n){var e=this;this.getCategoryCard=function(t){return e.CategoryCard?e.customCategoryCard(t):e.currentCard(t)},this.getOptionCard=function(t){return e.OptionCard?e.customOptionCard(t):e.currentCard(t)},this.getToolbarItem=function(t){return e.ToolbarItem?e.customToolbarItem(t):e.currentToolbarItem(t)},this.getLoader=function(t){return e.Loader?e.customLoader(t):e.loader(t)},this.getButton=function(t){return function(n){return e.Buttons&&e.Buttons[t]?e.customButton(t)(n):null}},this.customLoader=function(t){var n=t.show,o=e.Loader;return c.createElement(o,{show:n})},this.customCategoryCard=function(t){var n={image:t.image,label:t.label,isActive:t.isActive,onClick:t.onClick,key:t.key},o=e.CategoryCard;return c.createElement(o,r({},n))},this.customOptionCard=function(t){var n={image:t.image,label:t.label,isActive:t.isActive,onClick:t.onClick,key:t.key},o=e.OptionCard;return c.createElement(o,r({},n))},this.customToolbarItem=function(t){var n={key:t.key,icon:t.icon,label:t.label,onClick:t.onClick,isActive:t.isActive},o=e.ToolbarItem;return c.createElement(o,r({},n))},this.customButton=function(t){return function(n){var o={key:n.key,icon:n.icon,label:n.label,onClick:n.onClick,isDisabled:n.isDisabled},i=e.Buttons[t];return c.createElement(i,r({},o))}},this.loader=function(t){var n=e.originalComponents.loader;return c.createElement(n,r({},t))},this.currentCard=function(t){var n=e.originalComponents.card,o=(t.label,t.key),i=s(t,["label","key"]);return n?c.createElement(n,r({key:o},i)):null},this.currentToolbarItem=function(t){var n=e.originalComponents.toolbarItem,o=t.key,i=s(t,["key"]);return n?c.createElement(n,r({key:o},i)):null},this.originalComponents=n,this.CategoryCard=t&&t.categoryCard?t.categoryCard:null,this.OptionCard=t&&t.itemCard?t.itemCard:null,this.ToolbarItem=t&&t.toolbarItem?t.toolbarItem:null,this.Loader=t&&t.loader?t.loader:null,this.Buttons=t&&t.buttons?t.buttons:null},Si=A.shared.color.colorPicker.width,ki=L.div(fi||(fi=t(["\n  position: relative;\n"],["\n  position: relative;\n"]))),Ti=function(t){function e(n){var e=t.call(this,n)||this;e.onClick=function(t){return function(n){var o=e.props,r=o.activeColor,i=o.onAddSnapshot,a=e.state,s=a.showColorPicker,l=a.colorList,c=l.find((function(n){return n.identifier===t}));if(r!==c.identifier||s)s?e.setState({showColorPicker:!1}):(e.onChange(t)(c),i&&i());else{var u=l.findIndex((function(n){return n.identifier===t}));import("./index-9de937b8.js").then((function(t){var n=t.ColorPicker;e.UIComponent=n,e.forceUpdate()}));var p=n.currentTarget.getBoundingClientRect(),d=p.left,f=p.width,h=n.currentTarget.parentElement.getBoundingClientRect(),m=h.left,g=h.width,b=d-m-f/2+(Si-g)/2-1;e.setState({showColorPicker:!0,activeColorName:l[u].identifier,arrowOffset:b})}}},e.onChange=function(t){return function(n){var o=n.color,r=n.colorString,i=e.props.onChange,a=e.state.colorList,s=a.findIndex((function(n){return n.identifier===t})),c=l(a);c[s]={identifier:a[s].identifier,colorString:r,color:o},e.setState({colorList:c}),i(o,a[s].identifier)}},e.onChangeColorPicker=function(t){var n=t.color,o=t.colorString,r=e.state.activeColorName;e.onChange(r)({color:[n[0]/255,n[1]/255,n[2]/255,n[3]],colorString:o})},e.closeColorPicker=function(){e.setState({showColorPicker:!1})},e.getColorPicker=function(){var t=e.props,n=t.activeColor,o=t.labelsColor,r=t.colorPickerDirection,i=t.onAddSnapshot,a=e.state,s=a.showColorPicker,l=a.arrowOffset,u=a.colorList;if(!e.UIComponent)return null;var p=e.UIComponent,d=u.filter((function(t){return t.identifier===n}))[0].colorString;return c.createElement(p,{color:d,show:s,direction:r,arrowOffset:l,labelHex:o.hex,labelR:o.r,labelG:o.g,labelB:o.b,labelSliderOpacity:o.sliderOpacity,labelSliderHue:o.sliderHue,onChange:e.onChangeColorPicker,onRequestClose:e.closeColorPicker,onAddSnapshot:i})};var o=e.props.colors;return e.state={activeColorName:"",colorList:l(o),showColorPicker:!1,arrowOffset:0},e.UIComponent=null,e}return n(e,t),e.prototype.render=function(){var t=this,n=this.props,e=n.activeColor,o=n.isDisabled,r=this.state.colorList.map((function(n,r){return c.createElement(O.ColorItem,{key:n.colorString+"-item-"+r,isActive:n.identifier===e,isDisabled:o,onClick:t.onClick(n.identifier),color:n.colorString,label:n.identifier})}));return c.createElement(ki,null,r,this.getColorPicker())},e.defaultProps={colorPickerDirection:"bottom",isDisabled:!1},e}(c.Component);export{Be as B,Ti as C,jo as F,Ci as M,Qt as P,wi as T,cn as a,bi as b,ai as c,Ei as d,Pe as e,kt as i,Gt as o};
